# ============================================================
#  Nginx — Config INITIALE (HTTP uniquement)
#  Utilisée UNIQUEMENT lors du premier déploiement pour
#  permettre à Certbot d'obtenir le certificat Let's Encrypt.
#  Le script send_to_vps.sh remplace automatiquement ce fichier
#  par ondes.conf une fois le certificat obtenu.
# ============================================================

server {
    listen 80;
    server_name api.ondes.pro;

    # Let's Encrypt ACME challenge
    location /.well-known/acme-challenge/ {
        root /var/www/certbot;
    }

    location / {
        return 200 "Ondes API - SSL initialization in progress...\n";
        add_header Content-Type text/plain;
    }
}
