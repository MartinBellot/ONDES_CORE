{"config":{"lang":["fr"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"\ud83c\udf0a Ondes Core - Documentation","text":"<p>Bienvenue sur la documentation officielle de Ondes Core, la plateforme de mini-applications web natives.</p> <p>Ce site documente l'\u00e9cosyst\u00e8me complet : - L'application h\u00f4te (Flutter) - L'API backend (Django) - Le SDK JavaScript (Bridge) - Le SDK Flutter (<code>packages/ondes_sdk</code>)</p>"},{"location":"#sections","title":"\ud83d\udcda Sections","text":"<p>Nous avons divis\u00e9 la documentation pour une navigation plus fluide.</p>"},{"location":"#commencer-ici","title":"\ud83d\ude80 Commencer ici","text":"<ul> <li>Pr\u00e9sentation : Comprendre ce qu'est Ondes Core.</li> <li>Architecture : Comment fonctionnent le Bridge, le WebView et le Backend.</li> <li>Installation : Guide pas-\u00e0-pas pour installer le projet sur votre machine.</li> </ul>"},{"location":"#creer-une-mini-app","title":"\ud83d\udc68\u200d\ud83d\udcbb Cr\u00e9er une Mini-App","text":"<ul> <li>Guide du d\u00e9veloppeur : Cr\u00e9er sa premi\u00e8re app, structure, manifest.json.</li> <li>\ud83e\uddea Ondes Lab : Environnement de d\u00e9veloppement, serveur local, debugging.</li> <li>Exemples : Liste des applications de d\u00e9monstration fournies.</li> </ul>"},{"location":"#sdk-reference-api","title":"\ud83d\udee0\ufe0f SDK - R\u00e9f\u00e9rence API","text":"<p>Deux technologies sont support\u00e9es pour cr\u00e9er des mini-apps :</p>"},{"location":"#sdk-javascript-htmlcssjs","title":"\ud83c\udf10 SDK JavaScript (HTML/CSS/JS)","text":"<p>L'objet <code>window.Ondes</code> est votre porte d'entr\u00e9e vers le natif.</p> <ul> <li>Introduction au SDK : Initialisation et bonnes pratiques.</li> <li>Modules :</li> <li>\ud83c\udfa8 Interface (UI) : Toasts, Modales, Navigation.</li> <li>\ud83d\udc64 Utilisateur (User) : Profil et authentification.</li> <li>\ud83d\udcf1 Mat\u00e9riel (Device) : Cam\u00e9ra, GPS, Vibration.</li> <li>\ud83d\udcbe Stockage (Storage) : Donn\u00e9es persistantes.</li> <li>\ud83d\udce6 Application (App) : Infos et cycle de vie.</li> <li>\ud83d\udc65 Amis (Friends) : Gestion du graphe d'amiti\u00e9.</li> <li>\ud83c\udf0d Social (Social) : Feed, Posts, Stories et M\u00e9dias.</li> <li>\ud83d\udd0c WebSocket (Websocket) : Connexions temps r\u00e9el.</li> </ul>"},{"location":"#sdk-flutter-dart","title":"\ud83d\udc99 SDK Flutter (Dart)","text":"<p>Package Flutter pour cr\u00e9er des mini-apps avec toute la puissance de Flutter.</p> <ul> <li>SDK Flutter : Installation, guide complet, et r\u00e9f\u00e9rence API.</li> </ul>"},{"location":"#backend","title":"\ud83d\udda5\ufe0f Backend","text":"<ul> <li>API Django : Structure du serveur et endpoints.</li> </ul>"},{"location":"#comparatif-pourquoi-ondes-core","title":"\ud83c\udd9a Comparatif : Pourquoi Ondes Core ?","text":"<p>Ondes Core n'est pas juste une alternative technique, c'est un changement de paradigme. Vous ne construisez pas une \"App\", vous construisez un \u00c9cosyst\u00e8me.</p>"},{"location":"#1-ondes_core-vs-capacitor-cordova","title":"1. ONDES_CORE vs Capacitor / Cordova","text":"<p>L'analogie : Capacitor est un outil de construction de maison. ONDES est un quartier r\u00e9sidentiel g\u00e9r\u00e9.</p> <ul> <li>Capacitor : Vous cr\u00e9ez une application autonome (<code>.ipa</code> / <code>.apk</code>). Vous \u00eates responsable de tout : l'authentification, le backend, la soumission aux stores, et les mises \u00e0 jour sont lentes.</li> <li>ONDES_CORE :<ul> <li>Distribution instantan\u00e9e : Vous publiez une Mini-App sur votre Store interne. Elle est disponible imm\u00e9diatement pour tous les utilisateurs.</li> <li>Infrastructure fournie : L'authentification, le profil utilisateur, et le stockage sont d\u00e9j\u00e0 g\u00e9r\u00e9s par le Core.</li> </ul> </li> </ul>"},{"location":"#2-ondes_core-vs-flutter-pur","title":"2. ONDES_CORE vs Flutter \"Pur\"","text":"<p>L'analogie : Flutter est le moteur de la voiture. ONDES est la voiture compl\u00e8te o\u00f9 les passagers (mini-apps) peuvent monter.</p> <ul> <li>Flutter Pur : Produit un binaire monolithique. Pour ajouter une fonctionnalit\u00e9, vous devez l'int\u00e9grer au code source, recompiler et red\u00e9ployer.</li> <li>ONDES_CORE :<ul> <li>D\u00e9mocratisation du code : Le shell est en Flutter (robuste), mais les Mini-Apps peuvent \u00eatre \u00e9crites en HTML/JS simple (accessible).</li> <li>Isolation : Si une Mini-App plante, le Core survit.</li> <li>Hot-Reload en Prod : Vous pouvez mettre \u00e0 jour une partie de l'application sans toucher au reste.</li> </ul> </li> </ul>"},{"location":"#3-ondes_core-vs-pwa-progressive-web-apps","title":"3. ONDES_CORE vs PWA (Progressive Web Apps)","text":"<p>L'analogie : Une PWA est un site web mobile. ONDES est un site web avec des super-pouvoirs natifs.</p> <ul> <li>PWA : Tourne dans un navigateur g\u00e9n\u00e9rique. Elle est isol\u00e9e du syst\u00e8me et ne connait pas l'utilisateur.</li> <li>ONDES_CORE :<ul> <li>Contexte Social (Killer Feature) : Une Mini-App sait qui est l'utilisateur et qui sont ses amis. Elle peut poster sur son mur et acc\u00e9der \u00e0 son graphe social.</li> <li>Pont Natif Avanc\u00e9 : <code>OndesBridge</code> expose des fonctionnalit\u00e9s natives (HLS streaming, UI native).</li> </ul> </li> </ul>"},{"location":"#en-resume","title":"\ud83d\udcca En r\u00e9sum\u00e9","text":"Fonctionnalit\u00e9 Capacitor / Cordova \ud83d\udc22 Flutter Pur \ud83c\udfce\ufe0f PWA \ud83c\udf10 ONDES CORE \ud83c\udf0a Mod\u00e8le Constructeur d'App Moteur Natif Site Mobile OS de Mini-Apps Distribution Stores (Apple/Google) Stores (Apple/Google) URL (Web) Store Interne Instantan\u00e9 Mise \u00e0 jour Lente (Validation Store) Lente (Validation Store) Instantan\u00e9e Instantan\u00e9e &amp; Chaude Isolation Monolithique Monolithique Isol\u00e9e (Sandbox) Sandboxed &amp; Connect\u00e9e Social \u00c0 construire (0%) \u00c0 construire (0%) Nul (pas d'identit\u00e9) Natif (Feed, Amis, Graph)"},{"location":"#pourquoi-choisir-ondes_core","title":"\ud83c\udfc6 Pourquoi choisir ONDES_CORE ?","text":"<ol> <li>L'effet R\u00e9seau (Social Graph) \ud83e\udd1d : Vos mini-apps naissent connect\u00e9es.</li> <li>D\u00e9veloppement D\u00e9centralis\u00e9 \ud83e\udde9 : Plusieurs \u00e9quipes peuvent travailler sur des apps diff\u00e9rentes sans toucher au Shell.</li> <li>Time-to-Market \u26a1 : Pas de compilation native ni de validation store pour les mini-apps.</li> </ol> <p> Cr\u00e9ez. Distribuez. Connectez. </p>"},{"location":"GENESIS/","title":"GENESIS \u2014 AI Mini-App Creator","text":""},{"location":"GENESIS/#overview","title":"Overview","text":"<p>GENESIS is the AI-powered creation subsystem of ONDES CORE. It allows any user to describe a Mini-App in natural language and receive a fully functional, single-file HTML/JS/CSS application that runs natively inside the ONDES WebView \u2014 with complete access to the SDK v3.0 Bridge.</p> <p>GENESIS is monetised: every user has a monthly creation quota enforced server-side before any LLM call. Upgrades and credit packs are handled through Stripe Checkout, with subscriptions managed via the Stripe Customer Portal.</p>"},{"location":"GENESIS/#architecture-overview","title":"Architecture Overview","text":"<pre><code>User (Flutter UI)\n        \u2502\n        \u2502  \"Cr\u00e9e une app m\u00e9t\u00e9o avec animation de pluie\"\n        \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  GenesisWorkspace        \u2502  Flutter screen\n\u2502  (Chat + WebView)        \u2502\n\u2502  + GenesisQuotaBadge     \u2502  AppBar badge \u2014 remaining creations\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n             \u2502  POST /api/genesis/create/\n             \u2502  POST /api/genesis/{id}/iterate/\n             \u2502  POST /api/genesis/{id}/report_error/\n             \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Django API              \u2502\n\u2502  genesis.views           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n             \u2502\n             \u25bc  \u2460 quota check (GenesisQuota.can_create())\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  GenesisQuota            \u2502  models.py \u2014 per-user plan + counter\n\u2502  FREE: 5/mo  PRO: 50/mo  \u2502  \u2192 HTTP 402 if quota exceeded\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n             \u2502  \u2461 LLM call (only if quota OK)\n             \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  GenesisAgent            \u2502  services.py\n\u2502  (Anthropic Claude)      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n             \u2502  System Prompt + conversation history\n             \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Claude claude-sonnet-4-5\u2502\n\u2502  (LLM)                   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n             \u2502  raw HTML string\n             \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2462 quota.consume_creation()\n\u2502  ProjectVersion          \u2502  \u2190 called AFTER html_code is persisted\n\u2502  html_code (TextField)   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n             \u2502  response includes project + quota snapshot\n             \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  InAppWebView (Flutter)  \u2502\n\u2502  loadData(html)          \u2502\n\u2502  + Bridge injection      \u2502\n\u2502  + Error capture JS      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"GENESIS/#data-model","title":"Data Model","text":"<pre><code>GenesisProject          (one per AI-created app)\n  \u251c\u2500\u2500 id                UUID primary key\n  \u251c\u2500\u2500 user              FK \u2192 auth.User\n  \u251c\u2500\u2500 title             str\n  \u251c\u2500\u2500 is_deployed       bool  (toggled by /deploy/)\n  \u251c\u2500\u2500 created_at\n  \u2514\u2500\u2500 updated_at\n\nProjectVersion          (immutable snapshot per iteration)\n  \u251c\u2500\u2500 project           FK \u2192 GenesisProject\n  \u251c\u2500\u2500 version_number    int   (1, 2, 3 \u2026)\n  \u251c\u2500\u2500 html_code         TextField\n  \u2514\u2500\u2500 change_description str\n\nConversationTurn        (full history for context window)\n  \u251c\u2500\u2500 project           FK \u2192 GenesisProject\n  \u251c\u2500\u2500 role              'user' | 'assistant' | 'system'\n  \u251c\u2500\u2500 content           str\n  \u2514\u2500\u2500 timestamp\n\nGenesisQuota            (one per user \u2014 created on first access)\n  \u251c\u2500\u2500 user              OneToOneField \u2192 auth.User\n  \u251c\u2500\u2500 plan              'free' | 'pro'\n  \u251c\u2500\u2500 creations_this_month  PositiveIntegerField (reset every 1st UTC)\n  \u251c\u2500\u2500 month_reset_date  DateField\n  \u251c\u2500\u2500 extra_credits     PositiveIntegerField  (pay-as-you-go)\n  \u251c\u2500\u2500 stripe_customer_id     str (blank until first Checkout)\n  \u251c\u2500\u2500 stripe_subscription_id str\n  \u251c\u2500\u2500 subscription_period    'monthly' | 'yearly' | ''\n  \u251c\u2500\u2500 subscription_end_date  DateTimeField (nullable)\n  \u2514\u2500\u2500 updated_at\n</code></pre>"},{"location":"GENESIS/#quota-business-rules","title":"Quota business rules","text":"Plan Creations / month Iterations Price FREE 5 \u221e 0 \u20ac PRO 50 \u221e 7,99 \u20ac/mo \u00b7 59,99 \u20ac/yr Pay-as-you-go +1 per credit \u2014 1,99 \u20ac / pack of 10 <ul> <li>Counter resets on the 1st of each month UTC (lazy \u2014 checked on next request).</li> <li>Iterations (<code>/iterate/</code>) and auto-fixes (<code>/report_error/</code>) are always free \u2014 they never touch the quota.</li> <li>Quota is checked before the LLM call and consumed after the HTML is saved \u2014 so a failed generation never costs a credit.</li> <li>If a user has exhausted their monthly quota but owns extra credits, credits are deducted first.</li> </ul>"},{"location":"GENESIS/#api-endpoints","title":"API Endpoints","text":""},{"location":"GENESIS/#core","title":"Core","text":"Method URL Description <code>GET</code> <code>/api/genesis/</code> List current user's projects <code>POST</code> <code>/api/genesis/create/</code> Create project from first prompt <code>GET</code> <code>/api/genesis/{id}/</code> Fetch project detail (incl. version history) <code>DELETE</code> <code>/api/genesis/{id}/</code> Delete project <code>POST</code> <code>/api/genesis/{id}/iterate/</code> Request a code change <code>POST</code> <code>/api/genesis/{id}/report_error/</code> Auto-fix a JS error <code>POST</code> <code>/api/genesis/{id}/deploy/</code> Mark version as production <code>GET</code> <code>/api/genesis/{id}/versions/{version_id}/</code> Fetch one version's full HTML <code>POST</code> <code>/api/genesis/{id}/save_edit/</code> Save a manually-edited HTML as new version"},{"location":"GENESIS/#monetisation","title":"Monetisation","text":"Method URL Auth Description <code>GET</code> <code>/api/genesis/quota/</code> Token Current user's quota snapshot <code>POST</code> <code>/api/genesis/checkout/</code> Token Create Stripe Checkout session <code>POST</code> <code>/api/genesis/portal/</code> Token Open Stripe Customer Portal <code>POST</code> <code>/api/genesis/stripe/webhook/</code> \u2014 (CSRF-exempt) Stripe webhook handler"},{"location":"GENESIS/#post-apigenesiscreate","title":"<code>POST /api/genesis/create/</code>","text":"<pre><code>{\n  \"prompt\": \"Une app m\u00e9t\u00e9o avec animation de pluie et d\u00e9grad\u00e9 de couleur selon la m\u00e9t\u00e9o\",\n  \"title\": \"M\u00e9t\u00e9o App\"   // optional\n}\n</code></pre> <p>Response (201) \u2014 <code>GenesisProject</code> with <code>current_version.html_code</code>, <code>conversation</code>, and a <code>quota</code> field reflecting the updated state.</p> <p>Response (402) \u2014 quota exceeded:</p> <pre><code>{\n  \"error\": \"quota_exceeded\",\n  \"message\": \"Tu as atteint ta limite de 5 cr\u00e9ations ce mois-ci.\",\n  \"plan\": \"free\",\n  \"monthly_limit\": 5,\n  \"remaining_creations\": 0,\n  \"quota\": { ... }\n}\n</code></pre>"},{"location":"GENESIS/#post-apigenesisiditerate","title":"<code>POST /api/genesis/{id}/iterate/</code>","text":"<pre><code>{ \"feedback\": \"Change le fond en violet n\u00e9on, ajoute un bouton pour partager sur le feed\" }\n</code></pre> <p>Response includes a <code>quota</code> field. Iterations never consume quota.</p>"},{"location":"GENESIS/#post-apigenesisidsave_edit","title":"<code>POST /api/genesis/{id}/save_edit/</code>","text":"<p>Persists a hand-edited HTML as a new version. Intended for developer power-users.</p> <pre><code>{\n  \"html_code\": \"&lt;!DOCTYPE html&gt;...\",\n  \"description\": \"Correction manuelle du layout\" // optional\n}\n</code></pre> <p>Response \u2014 updated <code>GenesisProject</code> (same shape as other write endpoints).</p>"},{"location":"GENESIS/#get-apigenesisquota","title":"<code>GET /api/genesis/quota/</code>","text":"<p>Returns the current user's quota without making any change.</p> <pre><code>{\n  \"plan\": \"free\",\n  \"creations_this_month\": 3,\n  \"monthly_limit\": 5,\n  \"extra_credits\": 0,\n  \"remaining_creations\": 2,\n  \"month_reset_date\": \"2026-02-01\",\n  \"subscription_period\": \"\",\n  \"subscription_end_date\": null\n}\n</code></pre>"},{"location":"GENESIS/#post-apigenesischeckout","title":"<code>POST /api/genesis/checkout/</code>","text":"<p>Creates a Stripe Checkout session. Pass one of the three price IDs configured in <code>.env</code>.</p> <pre><code>{\n  \"price_id\": \"price_xxx\",\n  \"success_url\": \"https://ondes.app/genesis/success?session_id={CHECKOUT_SESSION_ID}\",\n  \"cancel_url\": \"https://ondes.app/genesis/cancel\"\n}\n</code></pre> <pre><code>{ \"checkout_url\": \"https://checkout.stripe.com/pay/cs_test_...\" }\n</code></pre> <p>Mode is automatically set to <code>subscription</code> for PRO plans and <code>payment</code> for credit packs.</p>"},{"location":"GENESIS/#post-apigenesisportal","title":"<code>POST /api/genesis/portal/</code>","text":"<p>Opens the Stripe Customer Portal for the authenticated user.</p> <pre><code>{ \"return_url\": \"https://ondes.app/genesis\" }\n</code></pre> <pre><code>{ \"portal_url\": \"https://billing.stripe.com/p/session/...\" }\n</code></pre>"},{"location":"GENESIS/#post-apigenesisstripewebhook","title":"<code>POST /api/genesis/stripe/webhook/</code>","text":"<p>CSRF-exempt. Verified against <code>STRIPE_WEBHOOK_SECRET</code>. Handles:</p> Event Effect <code>checkout.session.completed</code> Sets <code>plan = pro</code> or adds 10 extra credits <code>customer.subscription.deleted</code> Downgrades to <code>free</code> <code>invoice.payment_failed</code> Downgrades to <code>free</code> <code>customer.subscription.updated</code> Records <code>subscription_end_date</code> if cancelled at period end"},{"location":"GENESIS/#version-history","title":"Version History","text":"<p>Every AI-generated (or manually edited) snapshot is stored as a <code>ProjectVersion</code> row. Versions are numbered sequentially starting from 1. The <code>current_version</code> field of a project always points to the highest version number.</p> <p>The <code>GenesisProjectDetail</code> response now includes a <code>versions</code> array (lightweight \u2014 no <code>html_code</code>) alongside <code>current_version</code> (full, with <code>html_code</code>). Fetching the HTML of an arbitrary historical version requires a separate call to <code>GET /api/genesis/{id}/versions/{version_id}/</code>.</p>"},{"location":"GENESIS/#flutter-ux","title":"Flutter UX","text":"<p>A history icon button (\ud83d\udd50) appears in the <code>GenesisWorkspace</code> AppBar whenever the project has at least one version. Tapping it opens a bottom sheet listing all versions in descending order:</p> <ul> <li>The current version is highlighted with a gradient badge and an <code>actuelle</code> chip.</li> <li>Tapping any past version fetches its HTML and loads it in the WebView.</li> <li>A purple banner overlays the top of the preview pane to signal that a historical snapshot is being displayed. It shows the version number, description, and two actions:</li> <li>Restaurer \u2014 saves the viewed HTML as a new version and returns to live state.</li> <li>\u2715 \u2014 dismisses the preview and reloads the current version.</li> </ul>"},{"location":"GENESIS/#html-code-editor","title":"HTML Code Editor","text":"<p>A subtle developer feature \u2014 accessible via the <code>&lt;/&gt;</code> icon button in the AppBar (visible when a project has generated code).</p> <p>Opens a full-height <code>DraggableScrollableSheet</code> containing:</p> <ul> <li>An optional description field (e.g. \"Fix layout du header\").</li> <li>A monospace code editor (<code>TextField</code>) pre-filled with the HTML currently displayed in the WebView (live version or historical preview).</li> <li>A Sauvegarder button that calls <code>POST /api/genesis/{id}/save_edit/</code>, creates a new version, and reloads the WebView.</li> </ul> <p>This allows developers to: - Make precise one-line corrections without going through the LLM. - Inject custom scripts or styles. - Restore and tweak a historical version in a single workflow.</p>"},{"location":"GENESIS/#monetisation-flutter-ui","title":"Monetisation \u2014 Flutter UI","text":""},{"location":"GENESIS/#genesisquotabadge","title":"GenesisQuotaBadge","text":"<p>A compact widget displayed in the AppBar of both <code>GenesisScreen</code> and <code>GenesisWorkspace</code>. It shows the number of remaining creations for the current month with colour-coded urgency:</p> Remaining Colour &gt; 3 Green <code>#00E676</code> 1\u20133 Orange <code>#FF9500</code> 0 Red <code>#FF2D55</code> <p>A bolt icon turns purple for PRO users. Tapping the badge opens <code>GenesisPricingScreen</code> as a bottom sheet.</p> <pre><code>// Opened programmatically (e.g. from a 402 error):\nGenesisQuotaBadge.openSheet(context, _quota);\n</code></pre>"},{"location":"GENESIS/#genesispricingscreen","title":"GenesisPricingScreen","text":"<p>A full dark-themed modal screen with a galactic animated header. Sections:</p> <ol> <li>Plan toggle \u2014 switch between monthly and yearly pricing.</li> <li>FREE card \u2014 5 cr\u00e9ations/mois, disabled CTA if already on free.</li> <li>PRO card \u2014 animated rainbow-glow border, gradient CTA button, adapts price to toggle state.</li> <li>Credits card \u2014 pay-as-you-go pack of 10 at 1,99 \u20ac.</li> <li>Why PRO? \u2014 2\u00d72 feature grid.</li> <li>FAQ \u2014 3 glassmorphism <code>ExpansionTile</code> entries.</li> <li>Footer \u2014 \"G\u00e9rer mon abonnement\" opens the Stripe Customer Portal (only visible for PRO users).</li> </ol> <p>All purchase buttons show a <code>CircularProgressIndicator</code> while the Stripe Checkout URL is being fetched, then open the URL in the system browser via <code>url_launcher</code>.</p>"},{"location":"GENESIS/#402-error-handling-in-genesisworkspace","title":"402 error handling in GenesisWorkspace","text":"<p>When <code>/create/</code> returns HTTP 402 the workspace: 1. Parses the <code>quota</code> field from the error body and updates <code>_quota</code> state. 2. Displays the error message in the chat bubble. 3. Automatically opens <code>GenesisPricingScreen</code> as a bottom sheet.</p> <pre><code>User sends prompt\n      \u2502\n      \u25bc  POST /api/genesis/create/\n      \u2502\n      \u251c\u2500 201 OK \u2192 update project + quota badge\n      \u2502\n      \u2514\u2500 402 Quota exceeded\n             \u2502\n             \u25bc  parse 'quota' from response body\n             GenesisQuotaBadge.openSheet(context, _quota)\n             \u2192 GenesisPricingScreen shown automatically\n</code></pre>"},{"location":"GENESIS/#conversation-flow-llm-context-window","title":"Conversation Flow (LLM context window)","text":"<p>Every call to the LLM includes:</p> <ol> <li>System Prompt \u2014 <code>GENESIS_SYSTEM_PROMPT</code> (immutable, defined in <code>services.py</code>).</li> <li>Message history \u2014 all past <code>ConversationTurn</code> rows (role <code>user</code> / <code>assistant</code>) for the project, ordered by timestamp.</li> <li>New user message \u2014 either the initial prompt, a feedback request, or an error report with the current HTML embedded.</li> </ol> <p>This gives GENESIS full context of every past iteration when generating new code.</p>"},{"location":"GENESIS/#system-prompt-exact","title":"System Prompt (exact)","text":"<p>Tu es GENESIS, l'Architecte IA d'ONDES CORE. Ta t\u00e2che : G\u00e9n\u00e9rer une Mini-App (HTML/JS/CSS) autonome en un seul fichier.</p> <p>R\u00c8GLES TECHNIQUES STRICTES : 1. Format : Un seul fichier HTML. CSS dans <code>&lt;style&gt;</code>, JS dans <code>&lt;script&gt;</code>. Pas de CDN externes sauf si indispensable (pr\u00e9f\u00e9rer le CSS pur). 2. Initialisation : Attends l'\u00e9v\u00e9nement <code>document.addEventListener('OndesReady', ...)</code> avant d'utiliser le SDK. 3. SDK ONDES v3.0 (OBLIGATOIRE) : Utilise <code>window.Ondes</code>. Modules disponibles : UI, Device, Storage, Social, Chat, Websocket, UDP. 4. Design : Style 'Cyberpunk / Glassmorphism'. Fond sombre (#121212), textes n\u00e9ons, \u00e9l\u00e9ments translucides. 5. Gestion d'Erreur : <code>try...catch</code> global \u2192 <code>Ondes.UI.showToast</code> en cas d'erreur.</p> <p>SORTIE : Renvoie UNIQUEMENT le code HTML brut. Pas de markdown.</p>"},{"location":"GENESIS/#flutter-integration","title":"Flutter Integration","text":""},{"location":"GENESIS/#webview-html-loading","title":"WebView HTML loading","text":"<p>Generated HTML is loaded via <code>InAppWebView.loadData()</code> (data URI) to isolate the app from any origin. Two JS scripts are injected on <code>onLoadStop</code>:</p> <ol> <li><code>ondesBridgeJs</code> \u2014 the full Ondes SDK Bridge (<code>window.Ondes</code>).  </li> <li><code>_errorCaptureJs</code> \u2014 installs <code>window.onerror</code> + <code>unhandledrejection</code> listeners that forward errors to Flutter via a named JS handler (<code>Genesis.reportError</code>).</li> </ol>"},{"location":"GENESIS/#error-auto-fix-loop","title":"Error auto-fix loop","text":"<pre><code>JS runtime error\n      \u2502\n      \u25bc  (via window.onerror \u2192 JS handler)\nFlutter: GenesisWorkspace._handleError()\n      \u2502\n      \u25bc  POST /api/genesis/{id}/report_error/\nDjango: GenesisReportErrorView\n      \u2502\n      \u25bc  GenesisAgent.fix_error(current_html, history, error_msg)\nClaude: returns corrected HTML\n      \u2502\n      \u25bc  new ProjectVersion saved\nFlutter: WebView reloaded with fixed HTML\n</code></pre>"},{"location":"GENESIS/#setup","title":"Setup","text":""},{"location":"GENESIS/#backend","title":"Backend","text":"<pre><code># 1. Install dependencies\npip install anthropic stripe\n\n# 2. Add to .env\nANTHROPIC_API_KEY=sk-ant-...\nSTRIPE_SECRET_KEY=sk_test_...\nSTRIPE_WEBHOOK_SECRET=whsec_...\nSTRIPE_PRO_MONTHLY_PRICE_ID=price_...\nSTRIPE_PRO_YEARLY_PRICE_ID=price_...\nSTRIPE_CREDIT_PACK_PRICE_ID=price_...\n\n# 3. Migrate\npython manage.py migrate genesis\n\n# 4. Run\npython manage.py runserver\n\n# 5. (dev) Forward Stripe webhooks to localhost\nstripe listen --forward-to localhost:8000/api/genesis/stripe/webhook/\n</code></pre> <p>Stripe Products to create in the dashboard: - PRO Monthly \u2014 recurring, 7,99 \u20ac/mo - PRO Yearly \u2014 recurring, 59,99 \u20ac/yr - Credit Pack \u2014 one-time payment, 1,99 \u20ac (10 credits per purchase)</p> <p>Copy each <code>price_xxx</code> ID into <code>.env</code>.</p>"},{"location":"GENESIS/#flutter","title":"Flutter","text":"<p>No additional packages required \u2014 uses existing <code>dio</code>, <code>flutter_inappwebview</code>, and <code>url_launcher</code> dependencies.</p> <p>The <code>url_launcher</code> package is used by <code>GenesisPricingScreen</code> to open Stripe Checkout and the Customer Portal in the system browser.</p> <p>Navigate to GENESIS from anywhere in the app:</p> <pre><code>Navigator.push(context, MaterialPageRoute(\n  builder: (_) =&gt; const GenesisScreen(),\n));\n</code></pre> <p>Or open directly in creation mode:</p> <pre><code>Navigator.push(context, MaterialPageRoute(\n  builder: (_) =&gt; const GenesisWorkspace(),\n  fullscreenDialog: true,\n));\n</code></pre>"},{"location":"GENESIS/#file-structure","title":"File Structure","text":"<pre><code>api/genesis/\n\u251c\u2500\u2500 __init__.py\n\u251c\u2500\u2500 apps.py\n\u251c\u2500\u2500 admin.py           \u2190 registers GenesisProject, GenesisQuota\n\u251c\u2500\u2500 models.py          \u2190 GenesisProject, ProjectVersion, ConversationTurn, GenesisQuota\n\u251c\u2500\u2500 serializers.py     \u2190 ProjectVersionListSerializer + GenesisQuotaSerializer\n\u251c\u2500\u2500 services.py        \u2190 GenesisAgent (LLM wrapper \u2014 do not modify)\n\u251c\u2500\u2500 views.py           \u2190 all REST endpoints + Stripe views + webhook\n\u251c\u2500\u2500 urls.py\n\u2514\u2500\u2500 migrations/\n    \u251c\u2500\u2500 0001_initial.py\n    \u2514\u2500\u2500 0002_genesisquota.py\n\nlib/\n\u251c\u2500\u2500 core/services/\n\u2502   \u2514\u2500\u2500 genesis_service.dart    \u2190 Dart HTTP client, all models incl. GenesisQuota\n\u2514\u2500\u2500 ui/genesis/\n    \u251c\u2500\u2500 genesis_screen.dart         \u2190 Project list + quota badge\n    \u251c\u2500\u2500 genesis_workspace.dart      \u2190 WebView + Chat + Version history + Code editor\n    \u251c\u2500\u2500 genesis_quota_widget.dart   \u2190 GenesisQuotaBadge (AppBar widget)\n    \u2514\u2500\u2500 genesis_pricing_screen.dart \u2190 Pricing modal (plans + credits + FAQ)\n</code></pre>"},{"location":"architecture/","title":"\ud83c\udfdb\ufe0f Architecture du projet","text":"<p>Ondes Core repose sur une architecture hybride combinant un shell natif Flutter et des mini-apps web, le tout support\u00e9 par un backend Django robuste.</p>"},{"location":"architecture/#diagramme-darchitecture","title":"Diagramme d'architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        ONDES CORE                               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                 \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502  Mini-App   \u2502    \u2502          Flutter App                \u2502     \u2502\n\u2502  \u2502  (WebView)  \u2502\u25c4\u2500\u2500\u25ba\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502     \u2502\n\u2502  \u2502             \u2502    \u2502  \u2502      Bridge Controller      \u2502    \u2502     \u2502\n\u2502  \u2502  HTML/JS/   \u2502    \u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524    \u2502     \u2502\n\u2502  \u2502    CSS      \u2502    \u2502  \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502    \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502  \u2502 \u2502 UI  \u2502 \u2502User \u2502 \u2502 Device \u2502  \u2502    \u2502     \u2502\n\u2502        \u2502            \u2502  \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502    \u2502     \u2502\n\u2502        \u2502            \u2502  \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502    \u2502     \u2502\n\u2502        \u25bc            \u2502  \u2502 \u2502Store\u2502 \u2502 App \u2502 \u2502Friends \u2502  \u2502    \u2502     \u2502\n\u2502  window.Ondes       \u2502  \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502    \u2502     \u2502\n\u2502                     \u2502  \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502    \u2502     \u2502\n\u2502                     \u2502  \u2502 \u2502        Social          \u2502  \u2502    \u2502     \u2502\n\u2502                     \u2502  \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502    \u2502     \u2502\n\u2502                     \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502     \u2502\n\u2502                     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502                                      \u2502                          \u2502\n\u2502                                      \u25bc                          \u2502\n\u2502                     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502                     \u2502          Django API                 \u2502     \u2502\n\u2502                     \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502     \u2502\n\u2502                     \u2502  \u2502  Store  \u2502    \u2502   Friends   \u2502     \u2502     \u2502\n\u2502                     \u2502  \u2502  (apps) \u2502    \u2502 (relations) \u2502     \u2502     \u2502\n\u2502                     \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502     \u2502\n\u2502                     \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502     \u2502\n\u2502                     \u2502  \u2502   Social (posts, feed,      \u2502    \u2502     \u2502\n\u2502                     \u2502  \u2502   stories, media, HLS)      \u2502    \u2502     \u2502\n\u2502                     \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502     \u2502\n\u2502                     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502                                                                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/#stack-technique-detaillee","title":"Stack technique d\u00e9taill\u00e9e","text":"Couche Technologie R\u00f4le Frontend natif Flutter Sert de \"coquille\" (Shell). G\u00e8re le WebView, l'interface native (barre de navigation, modales) et les appels syst\u00e8mes via les Platform Channels. Mini-Apps HTML/CSS/JS Applications d\u00e9velopp\u00e9es par les utilisateurs. Elles tournent dans le WebView. Bridge JavaScript Injection M\u00e9canisme de communication bidirectionnel entre le JavaScript de la WebView et le Dart de Flutter. Backend Django REST Framework API centrale. G\u00e8re l'authentification, le stockage des apps (.zip), les relations sociales et les m\u00e9dias. Base de donn\u00e9es SQLite (Dev) Stocke les donn\u00e9es utilisateurs, les m\u00e9tadonn\u00e9es des apps et le graphe social."},{"location":"architecture/#optimisations-de-performance","title":"\u26a1\ufe0f Optimisations de Performance","text":""},{"location":"architecture/#cold-start-webview-pool","title":"Cold Start &amp; WebView Pool","text":"<p>Pour garantir une exp\u00e9rience fluide (60fps) et \u00e9liminer le d\u00e9lai d'initialisation des WebViews (200-500ms), Ondes Core impl\u00e9mente un syst\u00e8me de \"WebView Pool\".</p> <ul> <li>Probl\u00e8me : Instancier un moteur de navigateur (<code>WKWebView</code> / <code>Android WebView</code>) est co\u00fbteux. Le faire \u00e0 l'ouverture de chaque mini-app cr\u00e9e un \u00e9cran blanc perceptible (Cold Start).</li> <li>Solution :<ul> <li>Le syst\u00e8me maintient des instances <code>HeadlessInAppWebView</code> \"chaudes\" en arri\u00e8re-plan (<code>lib/core/services/webview_pool_service.dart</code>).</li> <li>Ces instances chargent pr\u00e9ventivement le contexte (Bridge JS).</li> <li>Au clic utilisateur, une vue pr\u00e9chauff\u00e9e est imm\u00e9diatement attach\u00e9e \u00e0 l'interface via l'API <code>KeepAlive</code>.</li> <li>\u00c0 la fermeture, la vue est recycl\u00e9e et le pool est re-compl\u00e9t\u00e9 automatiquement.</li> </ul> </li> </ul>"},{"location":"backend/","title":"\ud83d\udda5\ufe0f API Backend Django","text":"<p>Le backend de Ondes Core expose une API REST compl\u00e8te. Voici un r\u00e9sum\u00e9 des modules c\u00f4t\u00e9 serveur.</p>"},{"location":"backend/#structure-des-applications-django","title":"Structure des Applications Django","text":"<p>Le projet est divis\u00e9 en 3 applications principales :</p> <ol> <li><code>store</code> : Gestion du march\u00e9 d'applications et de l'espace d\u00e9veloppeur.</li> <li><code>friends</code> : Gestion stricte des relations d'amiti\u00e9 (confirm\u00e9es).</li> <li><code>social</code> : R\u00e9seau social, feed, m\u00e9dias, interactions.</li> </ol>"},{"location":"backend/#endpoints-principaux","title":"Endpoints Principaux","text":""},{"location":"backend/#authentication","title":"Authentication","text":"<ul> <li><code>POST /api/auth/register/</code> : Inscription.</li> <li><code>POST /api/auth/login/</code> : Connexion (retourne un token).</li> </ul>"},{"location":"backend/#store-studio","title":"Store &amp; Studio","text":"<ul> <li><code>GET /api/apps/</code> : Listing public des mini-apps.</li> <li><code>POST /api/studio/apps/</code> : Cr\u00e9er une nouvelle app (d\u00e9veloppeur).</li> <li><code>POST /api/studio/apps/&lt;id&gt;/versions/</code> : Uploader un nouveau .zip.</li> </ul>"},{"location":"backend/#social-graph","title":"Social Graph","text":"<ul> <li><code>GET /api/friends/</code> : Liste d'amis.</li> <li><code>POST /api/social/follow/</code> : Suivre un utilisateur.</li> </ul>"},{"location":"backend/#content","title":"Content","text":"<ul> <li><code>GET /api/social/posts/</code> : R\u00e9cup\u00e9rer le feed.</li> <li><code>POST /api/social/posts/</code> : Publier.</li> </ul>"},{"location":"backend/#traitement-des-medias","title":"Traitement des M\u00e9dias","text":"<p>Le backend effectue des traitements lourds en background :</p> Type Traitement effectu\u00e9 Images Redimensionnement (max 1920x1920) et compression JPEG (85%). Vid\u00e9os Transcodage FFmpeg vers HLS (HTTP Live Streaming) avec g\u00e9n\u00e9ration de variantes (360p, 480p, 720p, 1080p). <p>Cela garantit que le contenu est d\u00e9livr\u00e9 de mani\u00e8re optimale sur les r\u00e9seaux mobiles.</p>"},{"location":"examples/","title":"\ud83d\udcc2 Exemples de Mini-Apps","text":"<p>Le dossier <code>examples/</code> \u00e0 la racine du d\u00e9p\u00f4t contient plusieurs projets de d\u00e9monstration pour vous aider \u00e0 d\u00e9marrer.</p> Dossier Description Concepts abord\u00e9s <code>hello-world/</code> Le \"Hello World\" minimal. Structure de base, Manifest. <code>full-demo/</code> D\u00e9mo exhaustive. Teste presque toutes les fonctions de l'API. <code>camera-demo/</code> Scanner. <code>Ondes.Device.scanQRCode</code>. <code>map-app/</code> Carte. <code>Ondes.Device.getGPSPosition</code>, int\u00e9gration Leaflet/Google Maps. <code>meteo-app/</code> App M\u00e9t\u00e9o. Appels API externes (fetch), G\u00e9olocalisation. <code>friends-demo/</code> Gestion d'amis. <code>Ondes.Friends</code>. <code>instagram-demo/</code> Clone Instagram. <code>Ondes.Social</code> : Feed photo, Likes, Commentaires. <code>tiktok-demo/</code> Clone TikTok. <code>Ondes.Social</code> : Feed vid\u00e9o vertical, Streaming HLS. <code>minecraft-clone/</code> Clone Minecraft en Three.js. Three.js, g\u00e9n\u00e9ration proc\u00e9durale (Perlin), grottes, arbres, nuages, joystick mobile."},{"location":"examples/#comment-tester-un-exemple","title":"Comment tester un exemple ?","text":"<ol> <li>Copiez le dossier de l'exemple qui vous int\u00e9resse (ex: <code>examples/hello-world</code>).</li> <li>Compressez le contenu du dossier en un fichier <code>.zip</code>.</li> <li>Lancez le serveur backend et l'app Flutter.</li> <li>Connectez-vous \u00e0 l'application mobile.</li> <li>Allez dans la section Dev Studio.</li> <li>Cr\u00e9ez une nouvelle app et uploadez votre fichier <code>.zip</code>.</li> <li>Installez et lancez l'app depuis le Store !</li> </ol>"},{"location":"installation/","title":"\ud83d\udd27 Guide d'installation","text":"<p>Ce guide vous explique comment configurer l'environnement de d\u00e9veloppement pour Ondes Core (Backend + App Mobile).</p>"},{"location":"installation/#prerequis","title":"Pr\u00e9requis","text":"<p>Assurez-vous d'avoir install\u00e9 les outils suivants : - Flutter 3.x (Guide d'installation) - Python 3.10+ (T\u00e9l\u00e9charger) - Git</p>"},{"location":"installation/#1-cloner-le-projet","title":"1. Cloner le projet","text":"<p>R\u00e9cup\u00e9rez le code source depuis le d\u00e9p\u00f4t :</p> <pre><code>git clone https://github.com/votre-repo/ondes-core.git\ncd ondes-core\n</code></pre>"},{"location":"installation/#2-configuration-du-backend-django","title":"2. Configuration du Backend Django","text":"<p>Le backend est n\u00e9cessaire pour que l'application fonctionne (login, chargement des apps, sociale, etc.).</p> <pre><code># Se placer dans le dossier api\ncd api\n\n# Cr\u00e9er l'environnement virtuel (bonne pratique)\npython -m venv venv\n\n# Activer l'environnement\n# macOS/Linux :\nsource venv/bin/activate\n# Windows :\n# venv\\Scripts\\activate\n\n# Installer les d\u00e9pendances\npip install -r requirements.txt\n\n# Appliquer les migrations de base de donn\u00e9es\npython manage.py migrate\n\n# Cr\u00e9er un compte administrateur (superuser) pour acc\u00e9der au back-office\npython manage.py createsuperuser\n# (Suivez les instructions \u00e0 l'\u00e9cran)\n\n# Lancer le serveur de d\u00e9veloppement\npython manage.py runserver\n</code></pre> <p>Le serveur sera accessible \u00e0 l'adresse http://127.0.0.1:8000/.</p>"},{"location":"installation/#3-lancer-lapplication-flutter","title":"3. Lancer l'application Flutter","text":"<p>Gardez le terminal du backend ouvert et ouvrez-en un nouveau pour Flutter.</p> <pre><code># Revenir \u00e0 la racine du projet si vous \u00e9tiez dans api/\ncd ..\n\n# R\u00e9cup\u00e9rer les d\u00e9pendances Flutter\nflutter pub get\n\n# Lancer l'application\n# Connectez un appareil ou lancez un \u00e9mulateur avant\nflutter run\n</code></pre>"},{"location":"installation/#4-acces-et-verification","title":"4. Acc\u00e8s et V\u00e9rification","text":"<p>Une fois tout lanc\u00e9, vous pouvez acc\u00e9der aux services :</p> Service URL / Acc\u00e8s API Endpoint <code>http://127.0.0.1:8000/api/</code> Admin Django <code>http://127.0.0.1:8000/admin/</code> (Utilisez votre superuser) App Mobile Sur votre \u00e9mulateur ou t\u00e9l\u00e9phone"},{"location":"introduction/","title":"\ud83c\udfaf Pr\u00e9sentation de Ondes Core","text":"<p>Ondes Core est une plateforme de mini-applications permettant de cr\u00e9er, distribuer et ex\u00e9cuter des apps web l\u00e9g\u00e8res avec acc\u00e8s aux fonctionnalit\u00e9s natives.</p>"},{"location":"introduction/#ce-que-permet-ondes-core","title":"Ce que permet Ondes Core","text":"Fonctionnalit\u00e9 Description \ud83c\udfd7\ufe0f Cr\u00e9er D\u00e9veloppez des mini-apps en HTML/CSS/JS standard. \ud83d\udce6 Distribuer Publiez vos apps via le Dev Studio int\u00e9gr\u00e9. \ud83d\ude80 Ex\u00e9cuter Les apps tournent dans un WebView s\u00e9curis\u00e9 et performant. \ud83d\udd0c Connecter Acc\u00e8s aux APIs natives (cam\u00e9ra, GPS, contact, etc.) via le pont JavaScript <code>OndesBridge</code>."},{"location":"introduction/#cas-dusage-principaux","title":"Cas d'usage principaux","text":"<ul> <li>Applications l\u00e9g\u00e8res sans installation : Pas besoin de passer par les stores classiques.</li> <li>Prototypage rapide : Testez des id\u00e9es rapidement avec des technologies web.</li> <li>Apps internes d'entreprise : D\u00e9ployez des outils m\u00e9tiers facilement.</li> <li>Jeux HTML5 : Cr\u00e9ez des petits jeux occasionnels.</li> <li>Outils utilitaires : Calculatrices, convertisseurs, outils sp\u00e9cifiques.</li> </ul>"},{"location":"lab/","title":"\ud83e\uddea Ondes Lab - Environnement de d\u00e9veloppement","text":"<p>Le Lab est l'environnement de d\u00e9veloppement int\u00e9gr\u00e9 \u00e0 Ondes Core. Il vous permet de tester vos mini-applications en temps r\u00e9el sur votre appareil, avec acc\u00e8s complet aux APIs natives.</p>"},{"location":"lab/#pourquoi-utiliser-le-lab","title":"\ud83c\udfaf Pourquoi utiliser le Lab ?","text":"Sans le Lab Avec le Lab Compiler \u2192 Zipper \u2192 Uploader \u2192 Tester Coder \u2192 Sauvegarder \u2192 Tester instantan\u00e9ment Rechargement manuel \u00e0 chaque modification Hot Reload automatique Debugging difficile Console de debug native Pas d'acc\u00e8s aux APIs Ondes en d\u00e9veloppement Toutes les APIs accessibles"},{"location":"lab/#demarrage-rapide","title":"\ud83d\ude80 D\u00e9marrage rapide","text":""},{"location":"lab/#prerequis","title":"Pr\u00e9requis","text":"<ul> <li>L'app Ondes Core install\u00e9e sur votre t\u00e9l\u00e9phone/tablette</li> <li>Votre ordinateur et appareil sur le m\u00eame r\u00e9seau WiFi</li> </ul>"},{"location":"lab/#workflow-general","title":"Workflow g\u00e9n\u00e9ral","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       WiFi        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Ordinateur    \u2502\u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba\u2502  T\u00e9l\u00e9phone      \u2502\n\u2502                 \u2502                   \u2502  Ondes Core     \u2502\n\u2502  Serveur local  \u2502   http://IP:port  \u2502                 \u2502\n\u2502  (port 3000)    \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba\u2502  Lab \u2192 WebView  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"lab/#apps-javascript-htmlcssjs","title":"\ud83c\udf10 Apps JavaScript (HTML/CSS/JS)","text":""},{"location":"lab/#methode-1-extension-vs-code-live-server-recommande","title":"M\u00e9thode 1 : Extension VS Code Live Server (Recommand\u00e9)","text":""},{"location":"lab/#1-installer-lextension","title":"1. Installer l'extension","text":"<p>Dans VS Code, installez l'extension \"Live Server\" de Ritwick Dey.</p>"},{"location":"lab/#2-configurer-pour-acces-reseau","title":"2. Configurer pour acc\u00e8s r\u00e9seau","text":"<p>Dans les param\u00e8tres VS Code (<code>settings.json</code>) :</p> <pre><code>{\n  \"liveServer.settings.host\": \"0.0.0.0\",\n  \"liveServer.settings.port\": 3000\n}\n</code></pre>"},{"location":"lab/#3-lancer-le-serveur","title":"3. Lancer le serveur","text":"<ol> <li>Ouvrez votre projet dans VS Code</li> <li>Clic droit sur <code>index.html</code> \u2192 \"Open with Live Server\"</li> <li>Notez l'URL affich\u00e9e (ex: <code>http://192.168.1.42:3000</code>)</li> </ol>"},{"location":"lab/#4-connecter-depuis-ondes-lab","title":"4. Connecter depuis Ondes Lab","text":"<ol> <li>Ouvrez Ondes Core sur votre mobile</li> <li>Allez dans l'onglet Lab </li> <li>Entrez l'URL de votre serveur</li> <li>Appuyez sur Lancer</li> </ol> <p>\u2728 Hot Reload : Chaque modification de fichier rafra\u00eechit automatiquement l'app !</p>"},{"location":"lab/#methode-2-serveur-python","title":"M\u00e9thode 2 : Serveur Python","text":"<pre><code># Dans le dossier de votre projet\ncd mon-app\n\n# Python 3\npython3 -m http.server 3000 --bind 0.0.0.0\n\n# Ou Python 2\npython -m SimpleHTTPServer 3000\n</code></pre> <p>Puis trouvez votre IP :</p> <pre><code># macOS / Linux\nifconfig | grep \"inet \" | grep -v 127.0.0.1\n\n# Windows (PowerShell)\n(Get-NetIPAddress -AddressFamily IPv4).IPAddress\n</code></pre>"},{"location":"lab/#methode-3-nodejs-http-server","title":"M\u00e9thode 3 : Node.js (http-server)","text":"<pre><code># Installation globale (une seule fois)\nnpm install -g http-server\n\n# Lancer le serveur\ncd mon-app\nhttp-server -p 3000 --host 0.0.0.0\n</code></pre>"},{"location":"lab/#apps-flutter-web","title":"\ud83d\udc99 Apps Flutter Web","text":""},{"location":"lab/#methode-1-serveur-de-developpement-flutter-recommande","title":"M\u00e9thode 1 : Serveur de d\u00e9veloppement Flutter (Recommand\u00e9)","text":"<p>C'est la m\u00e9thode la plus efficace, avec Hot Reload int\u00e9gr\u00e9.</p>"},{"location":"lab/#1-lancer-le-serveur","title":"1. Lancer le serveur","text":"<pre><code>cd mon_projet_flutter\n\nflutter run -d web-server --web-port=3000 --web-hostname=0.0.0.0\n</code></pre> <p>Explications des options :</p> Option Description <code>-d web-server</code> Lance un serveur web au lieu d'ouvrir un navigateur <code>--web-port=3000</code> Port d'\u00e9coute (modifiable) <code>--web-hostname=0.0.0.0</code> \u00c9coute sur toutes les interfaces (obligatoire pour acc\u00e8s mobile)"},{"location":"lab/#2-trouver-votre-ip-locale","title":"2. Trouver votre IP locale","text":"<pre><code># macOS\nipconfig getifaddr en0\n\n# Linux\nhostname -I | awk '{print $1}'\n\n# Windows (PowerShell)\n(Get-NetIPAddress -InterfaceAlias \"Wi-Fi\" -AddressFamily IPv4).IPAddress\n</code></pre>"},{"location":"lab/#3-connecter-depuis-ondes-lab","title":"3. Connecter depuis Ondes Lab","text":"<p>Entrez l'URL dans le Lab : <code>http://VOTRE_IP:3000</code></p> <p>\ud83d\udd25 Hot Reload : Appuyez sur <code>r</code> dans le terminal pour recharger, ou <code>R</code> pour red\u00e9marrer.</p>"},{"location":"lab/#methode-2-build-de-production","title":"M\u00e9thode 2 : Build de production","text":"<p>Pour tester la version finale avant publication :</p>"},{"location":"lab/#1-compiler-en-mode-release","title":"1. Compiler en mode release","text":"<pre><code>flutter build web --release\n</code></pre> <p>Les fichiers sont g\u00e9n\u00e9r\u00e9s dans <code>build/web/</code>.</p>"},{"location":"lab/#2-servir-les-fichiers","title":"2. Servir les fichiers","text":"<pre><code>cd build/web\n\n# Avec Python\npython3 -m http.server 3000 --bind 0.0.0.0\n\n# Ou avec Node.js\nnpx http-server -p 3000 --host 0.0.0.0\n</code></pre>"},{"location":"lab/#scanner-qr-code","title":"\ud83d\udcf1 Scanner QR Code","text":"<p>Le Lab int\u00e8gre un scanner QR pour connexion rapide.</p>"},{"location":"lab/#generer-un-qr-code","title":"G\u00e9n\u00e9rer un QR Code","text":""},{"location":"lab/#en-ligne","title":"En ligne","text":"<p>Utilisez qr-code-generator.com ou goqr.me.</p>"},{"location":"lab/#en-ligne-de-commande","title":"En ligne de commande","text":"<pre><code># macOS (avec Homebrew)\nbrew install qrencode\nqrencode -o qr.png \"http://192.168.1.42:3000\"\nopen qr.png\n\n# Linux\nsudo apt install qrencode\nqrencode -o qr.png \"http://192.168.1.42:3000\"\n\n# Avec Node.js (multi-plateforme)\nnpx qrcode-terminal \"http://192.168.1.42:3000\"\n</code></pre>"},{"location":"lab/#utilisation","title":"Utilisation","text":"<ol> <li>Dans Ondes Lab, appuyez sur \"Scanner un QR Code\"</li> <li>Visez le QR code avec la cam\u00e9ra</li> <li>L'app se lance automatiquement</li> </ol>"},{"location":"lab/#debugging","title":"\ud83d\udc1b Debugging","text":""},{"location":"lab/#console-javascript","title":"Console JavaScript","text":"<p>Les <code>console.log()</code> de votre mini-app sont visibles dans la console de d\u00e9veloppement de Flutter (si vous ex\u00e9cutez Ondes Core en mode debug).</p>"},{"location":"lab/#logs-flutter","title":"Logs Flutter","text":"<p>Pour les apps Flutter Web, utilisez les outils de debug habituels :</p> <pre><code># Lancer avec logs d\u00e9taill\u00e9s\nflutter run -d web-server --web-port=3000 --web-hostname=0.0.0.0 -v\n</code></pre>"},{"location":"lab/#verifier-la-connexion","title":"V\u00e9rifier la connexion","text":"<p>Si l'app ne se charge pas :</p> <ol> <li>V\u00e9rifier le r\u00e9seau : Les deux appareils sont-ils sur le m\u00eame WiFi ?</li> <li>V\u00e9rifier le firewall : Le port est-il ouvert ?    <pre><code># macOS - Ouvrir temporairement le port 3000\nsudo pfctl -d\n</code></pre></li> <li>Tester l'URL : Ouvrez l'URL dans le navigateur de votre t\u00e9l\u00e9phone</li> <li>V\u00e9rifier l'IP : L'IP change-t-elle en fonction du r\u00e9seau ?</li> </ol>"},{"location":"lab/#workflow-recommande","title":"\ud83d\udd04 Workflow recommand\u00e9","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    D\u00c9VELOPPEMENT                         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                          \u2502\n\u2502  1. Coder sur votre ordinateur                          \u2502\n\u2502  2. Lancer le serveur local (port 3000)                 \u2502\n\u2502  3. Connecter via Ondes Lab                             \u2502\n\u2502  4. Modifier le code \u2192 Auto-refresh                     \u2502\n\u2502  5. Tester les APIs natives sur l'appareil              \u2502\n\u2502                                                          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                    PUBLICATION                           \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                          \u2502\n\u2502  6. flutter build web --release  (ou zipper le dossier) \u2502\n\u2502  7. Cr\u00e9er/v\u00e9rifier manifest.json                        \u2502\n\u2502  8. Zipper le contenu                                   \u2502\n\u2502  9. Uploader via Ondes Studio                           \u2502\n\u2502                                                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"lab/#problemes-courants","title":"\u26a0\ufe0f Probl\u00e8mes courants","text":""},{"location":"lab/#impossible-de-se-connecter","title":"\"Impossible de se connecter\"","text":"Cause Solution Firewall bloque le port D\u00e9sactiver temporairement ou autoriser le port Appareils sur r\u00e9seaux diff\u00e9rents V\u00e9rifier la connexion WiFi Serveur non d\u00e9marr\u00e9 V\u00e9rifier que le terminal affiche le serveur actif Mauvaise IP R\u00e9ex\u00e9cuter <code>ifconfig</code> / <code>ipconfig</code>"},{"location":"lab/#page-blanche","title":"\"Page blanche\"","text":"Cause Solution Erreur JavaScript V\u00e9rifier la console du navigateur <code>index.html</code> manquant V\u00e9rifier la structure du projet CORS bloqu\u00e9 Ajouter les headers CORS si n\u00e9cessaire"},{"location":"lab/#sdk-ondes-non-disponible","title":"\"SDK Ondes non disponible\"","text":"<p>Le SDK n'est inject\u00e9 que lorsque l'app tourne dans Ondes Core :</p> <pre><code>// JavaScript\ndocument.addEventListener('OndesReady', () =&gt; {\n  // Ondes disponible ici\n});\n\n// Fallback pour test navigateur\nif (typeof Ondes === 'undefined') {\n  console.log('Mode d\u00e9veloppement hors Ondes');\n}\n</code></pre> <pre><code>// Flutter\nif (!Ondes.isReady) {\n  // Mode d\u00e9veloppement hors Ondes\n}\n</code></pre>"},{"location":"lab/#ressources","title":"\ud83d\udcda Ressources","text":"<ul> <li>Guide du d\u00e9veloppeur Mini-App</li> <li>SDK JavaScript</li> <li>SDK Flutter</li> <li>Exemples de mini-apps</li> </ul>"},{"location":"mini_app_guide/","title":"\ud83d\udc68\u200d\ud83d\udcbb Guide du d\u00e9veloppeur Mini-App","text":"<p>Apprenez \u00e0 cr\u00e9er votre premi\u00e8re application pour l'\u00e9cosyst\u00e8me Ondes.</p>"},{"location":"mini_app_guide/#choisissez-votre-approche","title":"\ud83c\udfaf Choisissez votre approche","text":"Approche Technologies Pour qui ? \ud83c\udf10 Web classique HTML, CSS, JavaScript D\u00e9veloppeurs web, projets simples \ud83d\udc99 Flutter Web Dart, Flutter D\u00e9veloppeurs Flutter, apps complexes <p>\ud83d\udca1 Ce guide couvre l'approche Web classique. Pour Flutter, consultez le SDK Flutter.</p>"},{"location":"mini_app_guide/#demarrage-rapide-web","title":"D\u00e9marrage rapide (Web)","text":"<p>Cr\u00e9ez votre premi\u00e8re mini-app en 3 \u00e9tapes simples :</p>"},{"location":"mini_app_guide/#etape-1-creer-la-structure","title":"\u00c9tape 1 : Cr\u00e9er la structure","text":"<p>Cr\u00e9ez un dossier pour votre projet avec les fichiers suivants :</p> <pre><code>mon-app/\n\u251c\u2500\u2500 index.html      # Point d'entr\u00e9e (obligatoire)\n\u251c\u2500\u2500 manifest.json   # M\u00e9tadonn\u00e9es (obligatoire)\n\u251c\u2500\u2500 app.js          # Votre logique JavaScript\n\u2514\u2500\u2500 style.css       # Vos styles\n</code></pre>"},{"location":"mini_app_guide/#etape-2-configurer-le-manifest","title":"\u00c9tape 2 : Configurer le manifest","text":"<p>Le fichier <code>manifest.json</code> est la carte d'identit\u00e9 de votre app.</p> <pre><code>{\n    \"id\": \"com.monentreprise.monapp\",\n    \"name\": \"Ma Super App\",\n    \"version\": \"1.0.0\",\n    \"description\": \"Une description incroyable\",\n    \"icon\": \"icon.png\"\n}\n</code></pre>"},{"location":"mini_app_guide/#etape-3-ecrire-le-code","title":"\u00c9tape 3 : \u00c9crire le code","text":"<p>index.html : <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"fr\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n    &lt;title&gt;Ma Super App&lt;/title&gt;\n    &lt;link rel=\"stylesheet\" href=\"style.css\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;Bienvenue !&lt;/h1&gt;\n    &lt;button id=\"btn\"&gt;Dire bonjour&lt;/button&gt;\n\n    &lt;script src=\"app.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre></p> <p>app.js : <pre><code>// On attend toujours que le SDK Ondes soit pr\u00eat\ndocument.addEventListener('OndesReady', async () =&gt; {\n    console.log('\u2705 Ondes SDK pr\u00eat !');\n\n    // Exemple : R\u00e9cup\u00e9rer l'utilisateur courant\n    const user = await Ondes.User.getProfile();\n\n    document.getElementById('btn').addEventListener('click', () =&gt; {\n        // Afficher un toast natif\n        Ondes.UI.showToast({\n            message: `Bonjour ${user.username} !`,\n            type: 'success'\n        });\n    });\n});\n</code></pre></p>"},{"location":"mini_app_guide/#structure-detaillee-dune-mini-app","title":"Structure d\u00e9taill\u00e9e d'une Mini-App","text":"Fichier Requis Description <code>index.html</code> \u2705 Oui Le point d'entr\u00e9e de votre application. C'est ce fichier qui est charg\u00e9 par la WebView. <code>manifest.json</code> \u2705 Oui Contient les m\u00e9tadonn\u00e9es essentielles (nom, version, permissions...). <code>*.js</code> Non Vos scripts. Vous pouvez avoir plusieurs fichiers JS. <code>*.css</code> Non Vos feuilles de styles. <code>assets/</code> Non Dossier recommand\u00e9 pour vos images, polices, sons, etc."},{"location":"mini_app_guide/#le-manifest-manifestjson","title":"Le Manifest (<code>manifest.json</code>)","text":"<p>Le manifest d\u00e9crit les propri\u00e9t\u00e9s de l'application.</p> <pre><code>{\n    \"id\": \"com.domaine.nomapp\",\n    \"name\": \"Nom Affich\u00e9\",\n    \"version\": \"1.2.3\",\n    \"description\": \"Description courte de l'app\",\n    \"icon\": \"assets/icon.png\",\n    \"author\": \"Votre Nom\",\n    \"permissions\": [\"camera\", \"location\", \"storage\"]\n}\n</code></pre>"},{"location":"mini_app_guide/#champs-du-manifest","title":"Champs du manifest","text":"Champ Type Description <code>id</code> String Unique. Identifiant au format reverse-domain (ex: <code>com.google.maps</code>). <code>name</code> String Nom affich\u00e9 dans le store et sur l'\u00e9cran d'accueil. <code>version</code> String Version s\u00e9mantique (MAJOR.MINOR.PATCH). Incr\u00e9mentez-la \u00e0 chaque mise \u00e0 jour. <code>description</code> String Description qui appara\u00eetra dans le store. <code>icon</code> String Chemin relatif vers l'ic\u00f4ne de l'app (PNG, 512x512 recommand\u00e9). <code>author</code> String Nom du d\u00e9veloppeur ou de l'entreprise (optionnel). <code>permissions</code> Array Liste des permissions requises (ex: <code>[\"camera\"]</code>). (optionnel)"},{"location":"sdk/","title":"\ud83d\udcda SDK OndesBridge","text":"<p>Le SDK <code>OndesBridge</code> permet \u00e0 votre code JavaScript de communiquer avec les fonctionnalit\u00e9s natives de l'appareil et de l'application h\u00f4te. Il est inject\u00e9 automatiquement dans l'objet global <code>window.Ondes</code>.</p>"},{"location":"sdk/#initialisation","title":"Initialisation","text":"<p>L'objet <code>Ondes</code> n'est pas disponible imm\u00e9diatement au chargement de la page. Vous devez \u00e9couter l'\u00e9v\u00e9nement <code>OndesReady</code>.</p> <pre><code>// \u2705 RECOMMAND\u00c9\ndocument.addEventListener('OndesReady', () =&gt; {\n    console.log(\"SDK charg\u00e9 et pr\u00eat \u00e0 l'emploi\");\n    initApp();\n});\n\n// \u274c \u00c0 \u00c9VITER\n// Peut \u00e9chouer si le bridge n'est pas encore inject\u00e9\nconsole.log(Ondes.User.getProfile()); \n</code></pre>"},{"location":"sdk/#choisissez-votre-technologie","title":"Choisissez votre technologie","text":"Technologie Description Lien \ud83c\udf10 JavaScript SDK natif pour apps HTML/CSS/JS Cette page \ud83d\udc99 Flutter Web Package Dart pour apps Flutter SDK Flutter <p>\ud83d\udca1 Recommandation : Utilisez JavaScript pour des apps simples, et Flutter pour des interfaces plus complexes ou si vous ma\u00eetrisez d\u00e9j\u00e0 Flutter.</p>"},{"location":"sdk/#modules-disponibles-javascript","title":"Modules disponibles (JavaScript)","text":"<p>Le SDK JavaScript est divis\u00e9 en plusieurs modules th\u00e9matiques :</p> <ul> <li>Ondes.UI : Gestion de l'interface (Toasts, Modales, Navigation).</li> <li>Ondes.User : Informations sur l'utilisateur connect\u00e9.</li> <li>Ondes.Device : Acc\u00e8s mat\u00e9riel (Vibration, GPS, Cam\u00e9ra).</li> <li>Ondes.Storage : Stockage de donn\u00e9es persistant.</li> <li>Ondes.App : Infos sur l'application et cycle de vie.</li> <li>Ondes.Friends : Gestion des amis et du graphe social.</li> <li>Ondes.Social : Fonctionnalit\u00e9s de r\u00e9seau social (Feed, Posts, Stories).</li> <li>Ondes.Chat : Messagerie instantan\u00e9e avec chiffrement E2EE automatique.</li> <li>Ondes.Websocket : Connexions WebSocket temps r\u00e9el.</li> <li>Ondes.UDP : Sockets UDP pour d\u00e9couverte r\u00e9seau et communication.</li> </ul> <p>Pour la version Flutter/Dart, voir le SDK Flutter.</p>"},{"location":"sdk/#gestion-des-erreurs","title":"Gestion des erreurs","text":"<p>Toutes les m\u00e9thodes du SDK sont asynchrones et retournent des <code>Promise</code>. Il est important de g\u00e9rer les erreurs, notamment pour les permissions ou les probl\u00e8mes r\u00e9seaux.</p>"},{"location":"sdk/#codes-derreur-courants","title":"Codes d'erreur courants","text":"Code Description <code>PERMISSION_DENIED</code> L'utilisateur a refus\u00e9 la permission demand\u00e9e. <code>NOT_SUPPORTED</code> La fonctionnalit\u00e9 n'est pas disponible sur cet appareil. <code>CANCELLED</code> L'utilisateur a annul\u00e9 l'action (ex: scan QR code). <code>NETWORK_ERROR</code> Probl\u00e8me de connexion internet. <code>AUTH_REQUIRED</code> L'utilisateur doit \u00eatre connect\u00e9. <code>NOT_FOUND</code> La ressource demand\u00e9e n'existe pas."},{"location":"sdk/#pattern-recommande","title":"Pattern recommand\u00e9","text":"<p>Utilisez <code>try/catch</code> pour capturer les erreurs proprement.</p> <pre><code>async function safeAction() {\n    try {\n        const result = await Ondes.Device.scanQRCode();\n        console.log(\"R\u00e9sultat:\", result);\n    } catch (error) {\n        console.warn('Erreur:', error.message);\n\n        if (error.code === 'PERMISSION_DENIED') {\n            Ondes.UI.showToast({\n                message: \"Acc\u00e8s cam\u00e9ra refus\u00e9\",\n                type: \"error\"\n            });\n        }\n    }\n}\n</code></pre>"},{"location":"sdk/app/","title":"\ud83d\udce6 Ondes.App - Syst\u00e8me Application","text":"<p>Ce module fournit des informations sur la mini-application elle-m\u00eame et permet d'en contr\u00f4ler le cycle de vie.</p>"},{"location":"sdk/app/#getinfo","title":"<code>getInfo()</code>","text":"<p>R\u00e9cup\u00e8re les m\u00e9tadonn\u00e9es de l'application en cours d'ex\u00e9cution.</p> <p>Retourne :</p> Champ Type Description <code>bundleId</code> String L'identifiant unique (d\u00e9fini dans le manifest). <code>name</code> String Nom de l'application. <code>version</code> String Version actuelle. <code>platform</code> String Plateforme h\u00f4te. <code>sdkVersion</code> String Version du SDK Ondes utilis\u00e9. <pre><code>const info = await Ondes.App.getInfo();\nconsole.log(`Application: ${info.name} (v${info.version})`);\n</code></pre>"},{"location":"sdk/app/#getmanifest","title":"<code>getManifest()</code>","text":"<p>R\u00e9cup\u00e8re l'int\u00e9gralit\u00e9 du contenu du fichier <code>manifest.json</code>.</p> <p>Retourne : <code>Promise&lt;Object&gt;</code></p> <pre><code>const manifest = await Ondes.App.getManifest();\nif (manifest.permissions.includes('camera')) {\n    showCameraIcon();\n}\n</code></pre>"},{"location":"sdk/app/#close","title":"<code>close()</code>","text":"<p>Ferme la mini-application et renvoie l'utilisateur \u00e0 l'\u00e9cran d'accueil d'Ondes Core.</p> <p>Il est recommand\u00e9 de demander confirmation \u00e0 l'utilisateur avant d'appeler cette fonction s'il y a des changements non sauvegard\u00e9s.</p> <pre><code>document.getElementById('quit-btn').addEventListener('click', async () =&gt; {\n    const shouldQuit = await Ondes.UI.showConfirm({\n        title: \"Quitter ?\",\n        message: \"Toute progression non sauvegard\u00e9e sera perdue.\"\n    });\n\n    if (shouldQuit) {\n        await Ondes.App.close();\n    }\n});\n</code></pre>"},{"location":"sdk/chat/","title":"Ondes.Chat","text":"<p>Le module <code>Ondes.Chat</code> permet de cr\u00e9er des applications de messagerie avec chiffrement de bout en bout (E2EE) automatique. Tous les messages sont chiffr\u00e9s localement avant d'\u00eatre envoy\u00e9s et d\u00e9chiffr\u00e9s \u00e0 la r\u00e9ception, sans que les d\u00e9veloppeurs n'aient besoin de g\u00e9rer la cryptographie.</p> <p>Chiffrement 100% Automatique</p> <p>Aucune configuration requise! Les cl\u00e9s E2EE sont g\u00e9n\u00e9r\u00e9es automatiquement d\u00e8s que l'utilisateur se connecte \u00e0 Ondes. Vous envoyez du texte clair, il est chiffr\u00e9. Vous recevez des messages d\u00e9j\u00e0 d\u00e9chiffr\u00e9s.</p>"},{"location":"sdk/chat/#securite","title":"S\u00e9curit\u00e9","text":"Composant Algorithme \u00c9change de cl\u00e9s X25519 (Curve25519) Chiffrement AES-256-GCM Authentification HMAC int\u00e9gr\u00e9 (GCM) <p>Les cl\u00e9s priv\u00e9es ne quittent jamais l'appareil de l'utilisateur. Le serveur ne voit que les messages chiffr\u00e9s.</p> <p>Cl\u00e9s g\u00e9n\u00e9r\u00e9es au login</p> <p>Chaque utilisateur Ondes poss\u00e8de automatiquement une paire de cl\u00e9s E2EE cr\u00e9\u00e9e lors de sa premi\u00e8re connexion. Cela garantit que le chiffrement X25519 fonctionne toujours entre deux utilisateurs.</p>"},{"location":"sdk/chat/#initialisation","title":"Initialisation","text":""},{"location":"sdk/chat/#ondeschatinit","title":"<code>Ondes.Chat.init()</code>","text":"<p>Connecte au service de chat temps r\u00e9el (WebSocket).</p> <p>Retour: <code>Promise&lt;{success: boolean, userId: number}&gt;</code></p> <pre><code>// Connecte au WebSocket pour recevoir les messages en temps r\u00e9el\nawait Ondes.Chat.init();\n</code></pre> <p>E2EE automatique</p> <p>Les cl\u00e9s de chiffrement sont d\u00e9j\u00e0 configur\u00e9es au login. Cette m\u00e9thode \u00e9tablit simplement la connexion WebSocket pour les messages en temps r\u00e9el.</p>"},{"location":"sdk/chat/#ondeschatdisconnect","title":"<code>Ondes.Chat.disconnect()</code>","text":"<p>D\u00e9connecte du service de chat.</p> <pre><code>await Ondes.Chat.disconnect();\n</code></pre>"},{"location":"sdk/chat/#ondeschatisready","title":"<code>Ondes.Chat.isReady()</code>","text":"<p>V\u00e9rifie si le chat est initialis\u00e9 et connect\u00e9.</p> <p>Retour: <code>boolean</code></p> <pre><code>if (Ondes.Chat.isReady()) {\n    // Chat pr\u00eat\n}\n</code></pre>"},{"location":"sdk/chat/#conversations","title":"Conversations","text":""},{"location":"sdk/chat/#ondeschatgetconversations","title":"<code>Ondes.Chat.getConversations()</code>","text":"<p>R\u00e9cup\u00e8re toutes les conversations de l'utilisateur.</p> <p>Retour: <code>Promise&lt;Array&lt;Conversation&gt;&gt;</code></p> <pre><code>const conversations = await Ondes.Chat.getConversations();\n\nfor (const conv of conversations) {\n    console.log(conv.name);\n    console.log(conv.lastMessage?.content); // D\u00e9j\u00e0 d\u00e9chiffr\u00e9!\n}\n</code></pre> <p>Structure Conversation: <pre><code>interface Conversation {\n    id: string;           // UUID unique\n    name: string;         // Nom de la conversation\n    type: 'private' | 'group';\n    avatar?: string;\n    members: Array&lt;{\n        id: number;\n        username: string;\n        avatar?: string;\n    }&gt;;\n    lastMessage?: {\n        content: string;  // Contenu d\u00e9chiffr\u00e9\n        sender: string;\n        createdAt: string;\n    };\n    unreadCount: number;\n    updatedAt: string;\n}\n</code></pre></p>"},{"location":"sdk/chat/#ondeschatgetconversationconversationid","title":"<code>Ondes.Chat.getConversation(conversationId)</code>","text":"<p>R\u00e9cup\u00e8re une conversation sp\u00e9cifique.</p> Param\u00e8tre Type Description <code>conversationId</code> <code>string</code> UUID de la conversation <p>Retour: <code>Promise&lt;Conversation&gt;</code></p> <pre><code>const conv = await Ondes.Chat.getConversation('abc-123-def');\n</code></pre>"},{"location":"sdk/chat/#ondeschatstartchatuser","title":"<code>Ondes.Chat.startChat(user)</code>","text":"<p>D\u00e9marre une conversation priv\u00e9e avec un utilisateur.</p> Param\u00e8tre Type Description <code>user</code> <code>string</code> ou <code>number</code> Nom d'utilisateur ou ID <p>Retour: <code>Promise&lt;Conversation&gt;</code></p> <pre><code>// Par nom d'utilisateur\nconst conv = await Ondes.Chat.startChat('alice');\n\n// Par ID\nconst conv = await Ondes.Chat.startChat(42);\n</code></pre>"},{"location":"sdk/chat/#ondeschatcreategroupname-members","title":"<code>Ondes.Chat.createGroup(name, members)</code>","text":"<p>Cr\u00e9e un groupe de discussion.</p> Param\u00e8tre Type Description <code>name</code> <code>string</code> Nom du groupe <code>members</code> <code>Array&lt;string\\|number&gt;</code> Membres (usernames ou IDs) <p>Retour: <code>Promise&lt;Conversation&gt;</code></p> <pre><code>const group = await Ondes.Chat.createGroup('Projet Alpha', [\n    'alice',\n    'bob',\n    42  // ID utilisateur\n]);\n</code></pre>"},{"location":"sdk/chat/#messages","title":"Messages","text":""},{"location":"sdk/chat/#ondeschatsendconversationid-message-options","title":"<code>Ondes.Chat.send(conversationId, message, options?)</code>","text":"<p>Envoie un message dans une conversation.</p> Param\u00e8tre Type Description <code>conversationId</code> <code>string</code> UUID de la conversation <code>message</code> <code>string</code> Contenu du message (texte clair) <code>options</code> <code>object</code> Options (optionnel) <p>Options: - <code>replyTo</code>: UUID du message auquel r\u00e9pondre - <code>type</code>: Type de message (<code>'text'</code>, <code>'image'</code>, <code>'file'</code>)</p> <p>Retour: <code>Promise&lt;{success: boolean}&gt;</code></p> <pre><code>// Message simple\nawait Ondes.Chat.send(conv.id, 'Salut!');\n\n// R\u00e9ponse \u00e0 un message\nawait Ondes.Chat.send(conv.id, 'D\\'accord!', {\n    replyTo: 'message-uuid-123'\n});\n</code></pre>"},{"location":"sdk/chat/#ondeschatgetmessagesconversationid-options","title":"<code>Ondes.Chat.getMessages(conversationId, options?)</code>","text":"<p>R\u00e9cup\u00e8re les messages d'une conversation.</p> Param\u00e8tre Type Description <code>conversationId</code> <code>string</code> UUID de la conversation <code>options.limit</code> <code>number</code> Nombre max (d\u00e9faut: 50) <code>options.before</code> <code>string</code> UUID pour pagination <p>Retour: <code>Promise&lt;Array&lt;Message&gt;&gt;</code></p> <pre><code>// 50 derniers messages\nconst messages = await Ondes.Chat.getMessages(conv.id);\n\n// Pagination\nconst olderMessages = await Ondes.Chat.getMessages(conv.id, {\n    limit: 20,\n    before: messages[0].id\n});\n</code></pre> <p>Structure Message: <pre><code>interface Message {\n    id: string;           // UUID unique\n    conversationId: string;\n    senderId: number;\n    sender: string;       // Username\n    content: string;      // Contenu D\u00c9CHIFFR\u00c9\n    type: string;         // 'text', 'image', etc.\n    createdAt: string;\n    editedAt?: string;\n    isDeleted: boolean;\n    replyTo?: string;\n}\n</code></pre></p>"},{"location":"sdk/chat/#ondeschateditmessagemessageid-newcontent-conversationid","title":"<code>Ondes.Chat.editMessage(messageId, newContent, conversationId?)</code>","text":"<p>Modifie un message existant.</p> Param\u00e8tre Type Description <code>messageId</code> <code>string</code> UUID du message \u00e0 modifier <code>newContent</code> <code>string</code> Nouveau contenu (texte clair) <code>conversationId</code> <code>string</code> UUID de la conversation (optionnel, pour le chiffrement) <pre><code>await Ondes.Chat.editMessage('msg-uuid', 'Nouveau contenu', 'conv-uuid');\n</code></pre> <p>Chiffrement</p> <p>Si <code>conversationId</code> est fourni, le nouveau contenu sera automatiquement chiffr\u00e9.</p>"},{"location":"sdk/chat/#ondeschatdeletemessagemessageid","title":"<code>Ondes.Chat.deleteMessage(messageId)</code>","text":"<p>Supprime un message.</p> <pre><code>await Ondes.Chat.deleteMessage('msg-uuid');\n</code></pre>"},{"location":"sdk/chat/#ondeschatmarkasreadmessageids","title":"<code>Ondes.Chat.markAsRead(messageIds)</code>","text":"<p>Marque des messages comme lus.</p> <pre><code>// Un message\nawait Ondes.Chat.markAsRead('msg-uuid');\n\n// Plusieurs messages\nawait Ondes.Chat.markAsRead(['msg-1', 'msg-2', 'msg-3']);\n</code></pre>"},{"location":"sdk/chat/#indicateurs","title":"Indicateurs","text":""},{"location":"sdk/chat/#ondeschatsettypingconversationid-istyping","title":"<code>Ondes.Chat.setTyping(conversationId, isTyping)</code>","text":"<p>Envoie un indicateur de frappe.</p> Param\u00e8tre Type Description <code>conversationId</code> <code>string</code> UUID de la conversation <code>isTyping</code> <code>boolean</code> <code>true</code> si en train d'\u00e9crire <pre><code>// L'utilisateur commence \u00e0 taper\nOndes.Chat.setTyping(conv.id, true);\n\n// L'utilisateur a fini\nOndes.Chat.setTyping(conv.id, false);\n</code></pre>"},{"location":"sdk/chat/#evenements","title":"\u00c9v\u00e9nements","text":""},{"location":"sdk/chat/#ondeschatonmessagecallback","title":"<code>Ondes.Chat.onMessage(callback)</code>","text":"<p>\u00c9coute les nouveaux messages.</p> <p>Callback: <code>(message: Message) =&gt; void</code></p> <p>Retour: Fonction pour se d\u00e9sabonner</p> <pre><code>const unsubscribe = Ondes.Chat.onMessage((msg) =&gt; {\n    console.log(`${msg.sender}: ${msg.content}`);\n    // Le message est d\u00e9j\u00e0 d\u00e9chiffr\u00e9!\n});\n\n// Plus tard, pour arr\u00eater d'\u00e9couter:\nunsubscribe();\n</code></pre>"},{"location":"sdk/chat/#ondeschatontypingcallback","title":"<code>Ondes.Chat.onTyping(callback)</code>","text":"<p>\u00c9coute les indicateurs de frappe.</p> <p>Callback: <code>({conversationId, userId, username, isTyping}) =&gt; void</code></p> <pre><code>Ondes.Chat.onTyping((data) =&gt; {\n    if (data.isTyping) {\n        showTypingIndicator(data.username);\n    } else {\n        hideTypingIndicator();\n    }\n});\n</code></pre>"},{"location":"sdk/chat/#ondeschatonreceiptcallback","title":"<code>Ondes.Chat.onReceipt(callback)</code>","text":"<p>\u00c9coute les accus\u00e9s de lecture.</p> <p>Callback: <code>({messageId, userId, readAt}) =&gt; void</code></p> <pre><code>Ondes.Chat.onReceipt((data) =&gt; {\n    markMessageAsRead(data.messageId);\n});\n</code></pre>"},{"location":"sdk/chat/#ondeschatonconnectionchangecallback","title":"<code>Ondes.Chat.onConnectionChange(callback)</code>","text":"<p>\u00c9coute les changements de connexion.</p> <p>Callback: <code>(status: 'connected'|'disconnected'|'error') =&gt; void</code></p> <pre><code>Ondes.Chat.onConnectionChange((status) =&gt; {\n    if (status === 'disconnected') {\n        showReconnecting();\n    }\n});\n</code></pre>"},{"location":"sdk/chat/#exemple-complet","title":"Exemple Complet","text":"<pre><code>// Initialisation\ndocument.addEventListener('OndesReady', async () =&gt; {\n    // 1. Initialiser le chat (E2EE automatique)\n    await Ondes.Chat.init();\n\n    // 2. Charger les conversations\n    const conversations = await Ondes.Chat.getConversations();\n    displayConversations(conversations);\n\n    // 3. \u00c9couter les nouveaux messages\n    Ondes.Chat.onMessage((msg) =&gt; {\n        // msg.content est d\u00e9j\u00e0 d\u00e9chiffr\u00e9!\n        appendMessage(msg);\n    });\n\n    // 4. \u00c9couter les indicateurs de frappe\n    Ondes.Chat.onTyping((data) =&gt; {\n        if (data.isTyping) {\n            showTyping(data.username);\n        }\n    });\n});\n\n// D\u00e9marrer une nouvelle conversation\nasync function startNewChat(username) {\n    const conv = await Ondes.Chat.startChat(username);\n    selectConversation(conv);\n}\n\n// Envoyer un message\nasync function sendMessage(text) {\n    await Ondes.Chat.send(currentConv.id, text);\n    // C'est tout! Le chiffrement est automatique\n}\n\n// Charger l'historique\nasync function loadHistory(convId) {\n    const messages = await Ondes.Chat.getMessages(convId);\n    // Tous les messages sont d\u00e9j\u00e0 d\u00e9chiffr\u00e9s\n    messages.forEach(displayMessage);\n}\n</code></pre>"},{"location":"sdk/chat/#notes-techniques","title":"Notes Techniques","text":""},{"location":"sdk/chat/#stockage-des-cles","title":"Stockage des Cl\u00e9s","text":"<p>Les cl\u00e9s sont stock\u00e9es de mani\u00e8re persistante via <code>SharedPreferences</code>:</p> <ul> <li>Cl\u00e9 priv\u00e9e X25519: G\u00e9n\u00e9r\u00e9e automatiquement au premier login, r\u00e9utilis\u00e9e ensuite</li> <li>Cl\u00e9s de conversation: D\u00e9riv\u00e9es via X25519 \u00e0 partir des cl\u00e9s publiques des membres</li> </ul>"},{"location":"sdk/chat/#echange-de-cles-x25519","title":"\u00c9change de Cl\u00e9s X25519","text":"<p>Le syst\u00e8me utilise exclusivement X25519 pour l'\u00e9change de cl\u00e9s:</p> <ol> <li>Au login: Une paire de cl\u00e9s X25519 est g\u00e9n\u00e9r\u00e9e et la cl\u00e9 publique est enregistr\u00e9e sur le serveur</li> <li>\u00c0 la cr\u00e9ation d'une conversation: Le secret partag\u00e9 est calcul\u00e9 avec la cl\u00e9 publique de l'autre membre</li> <li>R\u00e9sultat identique: Les deux membres d\u00e9rivent exactement la m\u00eame cl\u00e9 sym\u00e9trique (propri\u00e9t\u00e9 de X25519)</li> </ol> <p>E2EE Garanti</p> <p>Comme tous les utilisateurs Ondes ont une cl\u00e9 publique d\u00e8s leur premier login, le chiffrement X25519 fonctionne toujours. Aucun fallback n\u00e9cessaire!</p>"},{"location":"sdk/chat/#performance","title":"Performance","text":"<ul> <li>Les cl\u00e9s de conversation sont mises en cache en m\u00e9moire</li> <li>Le d\u00e9chiffrement est fait de mani\u00e8re asynchrone</li> <li>Les messages sont d\u00e9chiffr\u00e9s en batch lors du chargement</li> </ul>"},{"location":"sdk/chat/#limitations","title":"Limitations","text":"<ul> <li>Taille max message: 64 KB (avant chiffrement)</li> <li>Maximum 256 membres par groupe</li> <li>Historique: 10 000 messages par conversation</li> </ul>"},{"location":"sdk/chat/#voir-aussi","title":"Voir Aussi","text":"<ul> <li>WebSocket - Communication WebSocket bas niveau</li> <li>User - Gestion de l'authentification</li> <li>Friends - Gestion des amis</li> </ul>"},{"location":"sdk/device/","title":"\ud83d\udcf1 Ondes.Device - Mat\u00e9riel","text":"<p>Ce module fournit un acc\u00e8s aux capteurs et fonctionnalit\u00e9s mat\u00e9rielles de l'appareil.</p>"},{"location":"sdk/device/#hapticfeedbackstyle","title":"<code>hapticFeedback(style)</code>","text":"<p>D\u00e9clenche un retour haptique (vibration pr\u00e9cise) pour donner un feedback physique \u00e0 l'utilisateur.</p> Style Description <code>'light'</code> Vibration tr\u00e8s l\u00e9g\u00e8re et courte. <code>'medium'</code> Vibration standard. <code>'heavy'</code> Vibration plus lourde. <code>'success'</code> S\u00e9quence indiquant un succ\u00e8s. <code>'warning'</code> S\u00e9quence indiquant un avertissement. <code>'error'</code> S\u00e9quence indiquant une erreur. <pre><code>// Lors d'un succ\u00e8s\nawait Ondes.Device.hapticFeedback('success');\n</code></pre>"},{"location":"sdk/device/#vibrateduration","title":"<code>vibrate(duration)</code>","text":"<p>Fait vibrer l'appareil pendant une dur\u00e9e donn\u00e9e (m\u00e9thode plus brute que le retour haptique).</p> Param\u00e8tre Type Description <code>duration</code> Number Dur\u00e9e en millisecondes. <pre><code>await Ondes.Device.vibrate(500); // Vibre pendant une demi-seconde\n</code></pre>"},{"location":"sdk/device/#scanqrcode","title":"<code>scanQRCode()</code>","text":"<p>Ouvre une interface cam\u00e9ra native pour scanner un QR Code.</p> <p>Retourne : <code>Promise&lt;String&gt;</code> - Le contenu texte du code scann\u00e9.</p> <p>Erreurs possibles : <code>PERMISSION_DENIED</code>, <code>CANCELLED</code>.</p> <pre><code>try {\n    const content = await Ondes.Device.scanQRCode();\n    console.log(\"Code trouv\u00e9 :\", content);\n} catch (e) {\n    if (e.code === 'CANCELLED') {\n        console.log(\"Lecture annul\u00e9e par l'utilisateur\");\n    }\n}\n</code></pre>"},{"location":"sdk/device/#getgpsposition","title":"<code>getGPSPosition()</code>","text":"<p>R\u00e9cup\u00e8re la position g\u00e9ographique actuelle de l'appareil.</p> <p>Retourne : <pre><code>{\n    latitude: 48.8566,\n    longitude: 2.3522,\n    accuracy: 10.5 // Pr\u00e9cision du signal en m\u00e8tres\n}\n</code></pre></p> <pre><code>const pos = await Ondes.Device.getGPSPosition();\nshowMapAt(pos.latitude, pos.longitude);\n</code></pre>"},{"location":"sdk/device/#getinfo","title":"<code>getInfo()</code>","text":"<p>Obtient des informations techniques sur l'appareil et le syst\u00e8me.</p> <p>Retourne :</p> Champ Type Description <code>platform</code> String <code>'ios'</code>, <code>'android'</code>, <code>'macos'</code>, <code>'windows'</code>, etc. <code>version</code> String Version du syst\u00e8me d'exploitation. <code>model</code> String Mod\u00e8le de l'appareil (ex: \"iPhone 13\"). <pre><code>const info = await Ondes.Device.getInfo();\nif (info.platform === 'ios') {\n    // Adapter l'UI pour iOS\n}\n</code></pre>"},{"location":"sdk/flutter/","title":"\ud83d\udcf1 SDK Flutter - Ondes SDK","text":"<p>Ce guide explique comment cr\u00e9er une mini-application Flutter Web qui s'ex\u00e9cute dans l'environnement Ondes Core.</p> <p>\ud83d\udca1 Diff\u00e9rence avec le SDK JavaScript : Le SDK Flutter permet de d\u00e9velopper des mini-apps en Dart/Flutter au lieu de HTML/JS, tout en b\u00e9n\u00e9ficiant des m\u00eames fonctionnalit\u00e9s natives.</p>"},{"location":"sdk/flutter/#prerequis","title":"\ud83c\udfaf Pr\u00e9requis","text":"<ul> <li>Flutter SDK 3.24+ install\u00e9</li> <li>Un appareil avec l'app Ondes Core install\u00e9e</li> <li>Les deux appareils sur le m\u00eame r\u00e9seau WiFi (pour le d\u00e9veloppement)</li> </ul>"},{"location":"sdk/flutter/#installation","title":"\ud83d\udce6 Installation","text":""},{"location":"sdk/flutter/#1-creer-un-nouveau-projet-flutter","title":"1. Cr\u00e9er un nouveau projet Flutter","text":"<pre><code>flutter create --platforms=web my_ondes_app\ncd my_ondes_app\n</code></pre>"},{"location":"sdk/flutter/#2-ajouter-la-dependance-ondes_sdk","title":"2. Ajouter la d\u00e9pendance <code>ondes_sdk</code>","text":"<pre><code>flutter pub add ondes_sdk\n</code></pre> <p>Ou manuellement dans votre <code>pubspec.yaml</code> :</p> <pre><code>dependencies:\n  flutter:\n    sdk: flutter\n  ondes_sdk: ^1.1.0\n</code></pre> <p>Puis ex\u00e9cutez :</p> <pre><code>flutter pub get\n</code></pre>"},{"location":"sdk/flutter/#premiere-mini-app-flutter","title":"\ud83d\ude80 Premi\u00e8re Mini-App Flutter","text":""},{"location":"sdk/flutter/#code-minimal","title":"Code minimal","text":"<p>Remplacez le contenu de <code>lib/main.dart</code> :</p> <pre><code>import 'package:flutter/material.dart';\nimport 'package:ondes_sdk/ondes_sdk.dart';\n\nvoid main() async {\n  WidgetsFlutterBinding.ensureInitialized();\n\n  // \u26a0\ufe0f IMPORTANT : Attendre que le bridge soit pr\u00eat\n  try {\n    await Ondes.ensureReady();\n    print('\u2705 Ondes SDK connect\u00e9 !');\n  } catch (e) {\n    print('\u26a0\ufe0f Mode d\u00e9veloppement (hors Ondes) : $e');\n  }\n\n  runApp(const MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  const MyApp({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Ma Mini-App',\n      theme: ThemeData(\n        colorScheme: ColorScheme.fromSeed(seedColor: Colors.blue),\n        useMaterial3: true,\n      ),\n      home: const HomePage(),\n    );\n  }\n}\n\nclass HomePage extends StatefulWidget {\n  const HomePage({super.key});\n\n  @override\n  State&lt;HomePage&gt; createState() =&gt; _HomePageState();\n}\n\nclass _HomePageState extends State&lt;HomePage&gt; {\n  String _username = 'Chargement...';\n\n  @override\n  void initState() {\n    super.initState();\n    _loadUser();\n  }\n\n  Future&lt;void&gt; _loadUser() async {\n    if (!Ondes.isReady) {\n      setState(() =&gt; _username = 'Mode d\u00e9veloppement');\n      return;\n    }\n\n    final profile = await Ondes.user.getProfile();\n    setState(() {\n      _username = profile?.username ?? 'Non connect\u00e9';\n    });\n  }\n\n  Future&lt;void&gt; _showToast() async {\n    if (!Ondes.isReady) return;\n\n    await Ondes.ui.showToast(\n      message: 'Bonjour depuis Flutter ! \ud83c\udf89',\n      type: ToastType.success,\n    );\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('Ma Mini-App'),\n        backgroundColor: Theme.of(context).colorScheme.inversePrimary,\n      ),\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: [\n            Text(\n              'Bienvenue, $_username !',\n              style: Theme.of(context).textTheme.headlineMedium,\n            ),\n            const SizedBox(height: 20),\n            ElevatedButton.icon(\n              onPressed: _showToast,\n              icon: const Icon(Icons.celebration),\n              label: const Text('Afficher un Toast'),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"sdk/flutter/#developpement-et-test","title":"\ud83d\udd27 D\u00e9veloppement et Test","text":""},{"location":"sdk/flutter/#methode-1-serveur-de-developpement-flutter-recommande","title":"M\u00e9thode 1 : Serveur de d\u00e9veloppement Flutter (Recommand\u00e9)","text":""},{"location":"sdk/flutter/#etape-1-lancer-le-serveur-web-flutter","title":"\u00c9tape 1 : Lancer le serveur web Flutter","text":"<pre><code># Dans le dossier de votre projet\nflutter run -d web-server --web-port=3000 --web-hostname=0.0.0.0\n</code></pre> <p>\ud83d\udcdd Explications des options : - <code>-d web-server</code> : Lance un serveur web au lieu d'un navigateur - <code>--web-port=3000</code> : Port du serveur (modifiable) - <code>--web-hostname=0.0.0.0</code> : \u00c9coute sur toutes les interfaces r\u00e9seau (n\u00e9cessaire pour acc\u00e8s depuis mobile)</p>"},{"location":"sdk/flutter/#etape-2-trouver-votre-adresse-ip","title":"\u00c9tape 2 : Trouver votre adresse IP","text":"<pre><code># macOS / Linux\nifconfig | grep \"inet \" | grep -v 127.0.0.1\n\n# Windows\nipconfig\n</code></pre> <p>Notez votre IP locale (ex: <code>192.168.1.42</code>).</p>"},{"location":"sdk/flutter/#etape-3-connecter-depuis-ondes-lab","title":"\u00c9tape 3 : Connecter depuis Ondes Lab","text":"<ol> <li>Ouvrez l'app Ondes Core sur votre mobile</li> <li>Allez dans l'onglet Lab </li> <li>Entrez l'URL : <code>http://192.168.1.42:3000</code></li> <li>Appuyez sur Lancer</li> </ol> <p>\ud83c\udf89 Votre app Flutter s'affiche dans Ondes avec acc\u00e8s \u00e0 toutes les APIs natives !</p> <p>\ud83d\udca1 Hot Reload : Flutter Web supporte le hot reload. Les modifications de code se refl\u00e8tent automatiquement.</p>"},{"location":"sdk/flutter/#methode-2-build-de-production-serveur-statique","title":"M\u00e9thode 2 : Build de production + serveur statique","text":""},{"location":"sdk/flutter/#etape-1-compiler-en-mode-release","title":"\u00c9tape 1 : Compiler en mode release","text":"<pre><code>flutter build web --release\n</code></pre> <p>Les fichiers sont g\u00e9n\u00e9r\u00e9s dans <code>build/web/</code>.</p>"},{"location":"sdk/flutter/#etape-2-lancer-un-serveur-local","title":"\u00c9tape 2 : Lancer un serveur local","text":"<pre><code># Avec Python 3\ncd build/web\npython3 -m http.server 3000\n\n# Ou avec Node.js (http-server)\nnpx http-server build/web -p 3000\n\n# Ou avec PHP\ncd build/web\nphp -S 0.0.0.0:3000\n</code></pre>"},{"location":"sdk/flutter/#etape-3-connecter-depuis-ondes-lab_1","title":"\u00c9tape 3 : Connecter depuis Ondes Lab","text":"<p>M\u00eame proc\u00e9dure que la M\u00e9thode 1.</p>"},{"location":"sdk/flutter/#methode-3-qr-code-plus-rapide","title":"M\u00e9thode 3 : QR Code (Plus rapide)","text":"<ol> <li>G\u00e9n\u00e9rez un QR code contenant votre URL (ex: <code>http://192.168.1.42:3000</code>)</li> <li>Dans Ondes Lab, appuyez sur Scanner un QR Code</li> <li>Scannez le code \u2192 L'app se lance automatiquement</li> </ol> <p>\ud83d\udd27 Astuce : Utilisez qr-code-generator.com ou la commande <code>qrencode</code> : <pre><code>qrencode -o qr.png \"http://192.168.1.42:3000\"\n</code></pre></p>"},{"location":"sdk/flutter/#reference-api","title":"\ud83d\udcda R\u00e9f\u00e9rence API","text":""},{"location":"sdk/flutter/#initialisation","title":"Initialisation","text":"<pre><code>import 'package:ondes_sdk/ondes_sdk.dart';\n\n// Attendre que le bridge soit pr\u00eat (obligatoire)\nawait Ondes.ensureReady();\n\n// V\u00e9rifier si on est dans Ondes\nif (Ondes.isReady) {\n  // Utiliser les APIs Ondes\n}\n</code></pre>"},{"location":"sdk/flutter/#ui-interface-native","title":"\ud83c\udfa8 UI - Interface native","text":"<pre><code>// Toast\nawait Ondes.ui.showToast(\n  message: \"Message affich\u00e9\",\n  type: ToastType.success, // info, success, error, warning\n);\n\n// Alerte\nawait Ondes.ui.showAlert(\n  title: \"Titre\",\n  message: \"Contenu du message\",\n  buttonText: \"OK\",\n);\n\n// Confirmation\nfinal confirmed = await Ondes.ui.showConfirm(\n  title: \"Supprimer ?\",\n  message: \"Cette action est irr\u00e9versible.\",\n  confirmText: \"Oui, supprimer\",\n  cancelText: \"Annuler\",\n);\nif (confirmed) {\n  // Supprimer...\n}\n\n// Menu contextuel (Bottom Sheet)\nfinal choice = await Ondes.ui.showBottomSheet(\n  title: \"Actions\",\n  items: [\n    BottomSheetItem(label: \"Modifier\", value: \"edit\", icon: \"edit\"),\n    BottomSheetItem(label: \"Partager\", value: \"share\", icon: \"share\"),\n    BottomSheetItem(label: \"Supprimer\", value: \"delete\", icon: \"delete\"),\n  ],\n);\nprint(\"Choix: $choice\"); // \"edit\", \"share\", \"delete\" ou null\n\n// Configurer la barre de navigation\nawait Ondes.ui.configureAppBar(\n  title: \"Mon titre\",\n  visible: true,\n  backgroundColor: \"#2196F3\",\n  foregroundColor: \"#FFFFFF\",\n);\n</code></pre>"},{"location":"sdk/flutter/#user-utilisateur","title":"\ud83d\udc64 User - Utilisateur","text":"<pre><code>// V\u00e9rifier l'authentification\nif (await Ondes.user.isAuthenticated()) {\n  // R\u00e9cup\u00e9rer le profil\n  final profile = await Ondes.user.getProfile();\n  print(\"Utilisateur: ${profile?.username}\");\n  print(\"Email: ${profile?.email}\");\n  print(\"Avatar: ${profile?.avatar}\");\n</code></pre>"},{"location":"sdk/flutter/#device-materiel","title":"\ud83d\udcf1 Device - Mat\u00e9riel","text":"<pre><code>// Retour haptique\nawait Ondes.device.hapticFeedback(HapticStyle.success);\n// Styles: light, medium, heavy, success, warning, error\n\n// Vibration\nawait Ondes.device.vibrate(200); // dur\u00e9e en ms\n\n// Scanner un QR Code\ntry {\n  final code = await Ondes.device.scanQRCode();\n  print(\"Code scann\u00e9: $code\");\n} catch (e) {\n  print(\"Scan annul\u00e9 ou refus\u00e9\");\n}\n\n// Position GPS\nfinal pos = await Ondes.device.getGPSPosition();\nprint(\"Latitude: ${pos.latitude}\");\nprint(\"Longitude: ${pos.longitude}\");\nprint(\"Pr\u00e9cision: ${pos.accuracy}m\");\n\n// Infos appareil\nfinal info = await Ondes.device.getInfo();\nprint(\"Plateforme: ${info.platform}\"); // iOS, android, etc.\nprint(\"Mode sombre: ${info.isDarkMode}\");\nprint(\"\u00c9cran: ${info.screenWidth}x${info.screenHeight}\");\n</code></pre>"},{"location":"sdk/flutter/#storage-stockage-persistant","title":"\ud83d\udcbe Storage - Stockage persistant","text":"<pre><code>// Sauvegarder des donn\u00e9es (JSON)\nawait Ondes.storage.set('preferences', {\n  'theme': 'dark',\n  'notifications': true,\n  'language': 'fr',\n});\n\n// R\u00e9cup\u00e9rer des donn\u00e9es\nfinal prefs = await Ondes.storage.get&lt;Map&lt;String, dynamic&gt;&gt;('preferences');\nprint(prefs?['theme']); // 'dark'\n\n// Lister les cl\u00e9s\nfinal keys = await Ondes.storage.getKeys();\n\n// Supprimer une cl\u00e9\nawait Ondes.storage.remove('preferences');\n\n// Tout effacer\nawait Ondes.storage.clear();\n</code></pre>"},{"location":"sdk/flutter/#app-cycle-de-vie","title":"\ud83d\udce6 App - Cycle de vie","text":"<pre><code>// Infos sur la mini-app\nfinal info = await Ondes.app.getInfo();\nprint(\"Nom: ${info.name}\");\nprint(\"Version: ${info.version}\");\nprint(\"Bundle ID: ${info.bundleId}\");\n\n// R\u00e9cup\u00e9rer le manifest\nfinal manifest = await Ondes.app.getManifest();\n\n// Fermer la mini-app\nawait Ondes.app.close();\n</code></pre>"},{"location":"sdk/flutter/#friends-amis","title":"\ud83d\udc65 Friends - Amis","text":"<pre><code>// Liste des amis\nfinal friends = await Ondes.friends.list();\nfor (final friend in friends) {\n  print(\"${friend.username} - ami depuis ${friend.friendsSince}\");\n}\n\n// Envoyer une demande d'ami\nawait Ondes.friends.request(username: 'john_doe');\n\n// Demandes en attente (re\u00e7ues)\nfinal pending = await Ondes.friends.getPendingRequests();\nprint(\"${pending.length} demandes en attente\");\n\n// Accepter/Refuser\nawait Ondes.friends.accept(requestId);\nawait Ondes.friends.reject(requestId);\n\n// Bloquer/D\u00e9bloquer\nawait Ondes.friends.block(username: 'spammer');\nawait Ondes.friends.unblock(userId);\n\n// Rechercher des utilisateurs\nfinal results = await Ondes.friends.search('john');\n</code></pre>"},{"location":"sdk/flutter/#social-reseau-social","title":"\ud83c\udf0d Social - R\u00e9seau social","text":"<pre><code>// R\u00e9cup\u00e9rer le feed\nfinal posts = await Ondes.social.getFeed(\n  limit: 20,\n  offset: 0,\n  type: FeedType.main, // main, discover, video\n);\n\n// Publier un post\nfinal post = await Ondes.social.publish(\n  content: \"Mon premier post depuis Flutter ! \ud83d\ude80\",\n  visibility: PostVisibility.followers,\n  tags: ['flutter', 'ondes'],\n);\n\n// Liker / Unliker\nawait Ondes.social.likePost(post.uuid);\nawait Ondes.social.unlikePost(post.uuid);\n\n// Commenter\nawait Ondes.social.addComment(post.uuid, \"Super post !\");\n\n// R\u00e9cup\u00e9rer les commentaires\nfinal comments = await Ondes.social.getComments(post.uuid);\n\n// Bookmarks (favoris)\nawait Ondes.social.bookmarkPost(post.uuid);\nfinal saved = await Ondes.social.getBookmarks();\n\n// Stories\nfinal stories = await Ondes.social.getStories();\nawait Ondes.social.viewStory(storyUuid);\nawait Ondes.social.createStory(mediaPath, duration: 5);\n\n// Follow / Unfollow\nawait Ondes.social.follow(username: 'influencer');\nawait Ondes.social.unfollow(userId: 123);\n\n// S\u00e9lecteur de m\u00e9dia natif\nfinal media = await Ondes.social.pickMedia(\n  multiple: true,\n  allowVideo: true,\n  maxFiles: 10,\n);\nfor (final file in media) {\n  print(\"${file.type}: ${file.path}\");\n}\n</code></pre>"},{"location":"sdk/flutter/#websocket","title":"\ud83d\udd0c Websocket - Connexions temps r\u00e9el","text":"<pre><code>// Connexion \u00e0 un serveur WebSocket\nfinal conn = await Ondes.websocket.connect(\n  'ws://192.168.1.42:8080',\n  options: WebsocketConnectOptions(\n    reconnect: true,  // Auto-reconnexion\n    timeout: 5000,    // Timeout 5 secondes\n  ),\n);\nprint('Connect\u00e9: ${conn.id}');\n\n// \u00c9couter les messages entrants\nOndes.websocket.onMessage(conn.id).listen((message) {\n  print('Message re\u00e7u: $message');\n  // Parser le message si n\u00e9cessaire\n  if (message is String &amp;&amp; message.startsWith('&lt;')) {\n    handleRobotMessage(message);\n  }\n});\n\n// \u00c9couter les changements d'\u00e9tat\nOndes.websocket.onStatusChange(conn.id).listen((event) {\n  print('\u00c9tat: ${event.status.name}');\n  if (event.status == WebsocketStatus.error) {\n    print('Erreur: ${event.error}');\n  }\n});\n\n// Envoyer des messages\nawait Ondes.websocket.send(conn.id, '&lt;100s50&gt;');  // Texte\nawait Ondes.websocket.send(conn.id, {             // JSON\n  'type': 'command',\n  'action': 'move',\n});\n\n// Obtenir le statut d'une connexion\nfinal status = await Ondes.websocket.getStatus(conn.id);\nif (status != null) {\n  print('URL: ${status.url}, \u00c9tat: ${status.status.name}');\n}\n\n// Lister toutes les connexions\nfinal connections = await Ondes.websocket.list();\nprint('${connections.length} connexion(s) active(s)');\n\n// D\u00e9connecter\nawait Ondes.websocket.disconnect(conn.id);\n\n// D\u00e9connecter toutes les connexions\nfinal count = await Ondes.websocket.disconnectAll();\nprint('$count connexion(s) ferm\u00e9e(s)');\n</code></pre>"},{"location":"sdk/flutter/#udp","title":"\ud83d\udce1 UDP - D\u00e9couverte r\u00e9seau","text":"<p>Le module UDP permet la d\u00e9couverte de p\u00e9riph\u00e9riques et la communication r\u00e9seau via sockets UDP.</p> <pre><code>// Cr\u00e9er un socket UDP\nfinal socket = await Ondes.udp.bind(\n  options: UdpBindOptions(\n    port: 12345,      // Port local (0 = al\u00e9atoire)\n    broadcast: true,  // Autoriser le broadcast\n  ),\n);\nprint('Socket li\u00e9 sur le port ${socket.port}');\n\n// \u00c9couter les messages entrants\nOndes.udp.onMessage(socket.id).listen((message) {\n  print('Re\u00e7u de ${message.address}:${message.port}');\n  print('Message: ${message.message}');\n});\n\n// Envoyer un message\nawait Ondes.udp.send(socket.id, 'DISCOVER_ROBOT', '192.168.1.100', 12345);\n\n// Broadcast vers plusieurs adresses\nfinal result = await Ondes.udp.broadcast(\n  socket.id,\n  'DISCOVER_ROBOT',\n  [\n    '192.168.1.255',\n    '192.168.4.255',\n    '192.168.4.1',\n  ],\n  12345,\n);\nprint('Broadcast vers ${result.results.length} adresses');\n\n// Infos sur le socket\nfinal info = await Ondes.udp.getInfo(socket.id);\nprint('Messages re\u00e7us: ${info.messagesReceived}');\n\n// Lister tous les sockets\nfinal sockets = await Ondes.udp.list();\nprint('${sockets.length} socket(s) actif(s)');\n\n// Fermer le socket\nawait Ondes.udp.close(socket.id);\n\n// Fermer tous les sockets\nfinal closedCount = await Ondes.udp.closeAll();\nprint('$closedCount socket(s) ferm\u00e9(s)');\n</code></pre>"},{"location":"sdk/flutter/#exemple-decouverte-de-robots-iot","title":"Exemple : D\u00e9couverte de robots IoT","text":"<pre><code>Future&lt;List&lt;Map&lt;String, String&gt;&gt;&gt; discoverRobots() async {\n  final robots = &lt;Map&lt;String, String&gt;&gt;[];\n\n  final socket = await Ondes.udp.bind(\n    options: UdpBindOptions(port: 12345, broadcast: true),\n  );\n\n  final subscription = Ondes.udp.onMessage(socket.id).listen((msg) {\n    final match = RegExp(r'&lt;(.+)&gt;').firstMatch(msg.message);\n    if (match == null) return;\n\n    final parts = match.group(1)!.split(',');\n    if (parts[0] == 'DISCOVER_ROBOT') return; // Ignorer nos messages\n\n    final robot = {\n      'ip': parts[0],\n      'name': parts.length &gt; 1 ? parts[1] : parts[0],\n    };\n\n    if (!robots.any((r) =&gt; r['ip'] == robot['ip'])) {\n      robots.add(robot);\n    }\n  });\n\n  await Ondes.udp.broadcast(\n    socket.id,\n    'DISCOVER_ROBOT',\n    ['192.168.1.255', '192.168.4.255', '192.168.4.1'],\n    12345,\n  );\n\n  await Future.delayed(Duration(seconds: 4));\n  await subscription.cancel();\n  await Ondes.udp.close(socket.id);\n\n  return robots;\n}\n</code></pre>"},{"location":"sdk/flutter/#gestion-des-erreurs","title":"\u26a0\ufe0f Gestion des erreurs","text":"<pre><code>import 'package:ondes_sdk/ondes_sdk.dart';\n\ntry {\n  final pos = await Ondes.device.getGPSPosition();\n} on OndesException catch (e) {\n  switch (e.code) {\n    case 'PERMISSION_DENIED':\n      print('Permission GPS refus\u00e9e');\n      break;\n    case 'AUTH_REQUIRED':\n      print('Connexion requise');\n      break;\n    case 'CANCELLED':\n      print('Action annul\u00e9e');\n      break;\n    case 'NOT_FOUND':\n      print('Ressource introuvable');\n      break;\n    default:\n      print('Erreur: ${e.message}');\n  }\n}\n</code></pre>"},{"location":"sdk/flutter/#bonnes-pratiques","title":"\ud83c\udfa8 Bonnes pratiques","text":""},{"location":"sdk/flutter/#1-toujours-verifier-ondesisready","title":"1. Toujours v\u00e9rifier <code>Ondes.isReady</code>","text":"<pre><code>Future&lt;void&gt; _doSomething() async {\n  if (!Ondes.isReady) {\n    // Fallback pour le d\u00e9veloppement hors Ondes\n    ScaffoldMessenger.of(context).showSnackBar(\n      SnackBar(content: Text('Fonctionnalit\u00e9 non disponible')),\n    );\n    return;\n  }\n\n  // Code Ondes...\n}\n</code></pre>"},{"location":"sdk/flutter/#2-configurer-lappbar-au-demarrage","title":"2. Configurer l'AppBar au d\u00e9marrage","text":"<pre><code>@override\nvoid initState() {\n  super.initState();\n  _configureAppBar();\n}\n\nFuture&lt;void&gt; _configureAppBar() async {\n  if (!Ondes.isReady) return;\n\n  await Ondes.ui.configureAppBar(\n    title: 'Mon App',\n    backgroundColor: '#673AB7',\n    foregroundColor: '#FFFFFF',\n  );\n}\n</code></pre>"},{"location":"sdk/flutter/#3-gerer-le-cycle-de-vie","title":"3. G\u00e9rer le cycle de vie","text":"<pre><code>@override\nvoid dispose() {\n  // Nettoyage si n\u00e9cessaire\n  super.dispose();\n}\n\nFuture&lt;void&gt; _closeApp() async {\n  if (Ondes.isReady) {\n    await Ondes.app.close();\n  } else {\n    Navigator.of(context).pop();\n  }\n}\n</code></pre>"},{"location":"sdk/flutter/#publication","title":"\ud83d\ude80 Publication","text":"<p>Une fois votre app pr\u00eate, vous pouvez la publier sur le Store Ondes via le Studio :</p> <ol> <li>Compilez en mode release : <code>flutter build web --release</code></li> <li>Cr\u00e9ez un fichier <code>manifest.json</code> \u00e0 la racine de <code>build/web/</code></li> <li>Zippez le contenu du dossier <code>build/web/</code></li> <li>Uploadez via Ondes Studio (onglet Lab \u2192 Ouvrir le Studio)</li> </ol> <p>Voir Guide de publication pour plus de d\u00e9tails.</p>"},{"location":"sdk/flutter/#exemple-complet","title":"\ud83d\udcdd Exemple complet","text":"<p>Un exemple fonctionnel est disponible dans le d\u00e9p\u00f4t :</p> <pre><code>cd packages/ondes_sdk/example\nflutter pub get\nflutter run -d web-server --web-port=3000 --web-hostname=0.0.0.0\n</code></pre> <p>Puis connectez-vous depuis Ondes Lab avec l'URL de votre machine.</p>"},{"location":"sdk/friends/","title":"\ud83d\udc65 Ondes.Friends - Gestion des Amis","text":"<p>Ce module permet de g\u00e9rer le graphe social de l'utilisateur : liste d'amis, demandes, blocage, etc.</p> <p>\ud83d\udd12 Pr\u00e9requis : Toutes ces fonctions n\u00e9cessitent que l'utilisateur soit connect\u00e9 (<code>Ondes.User.isAuthenticated()</code>).</p>"},{"location":"sdk/friends/#liste-et-recherche","title":"Liste et Recherche","text":""},{"location":"sdk/friends/#list","title":"<code>list()</code>","text":"<p>R\u00e9cup\u00e8re la liste des amis confirm\u00e9s.</p> <p>Retourne : <code>Promise&lt;Array&lt;Friend&gt;&gt;</code></p> <p>Structure <code>Friend</code> : - <code>id</code> (Number): ID utilisateur. - <code>username</code> (String): Nom. - <code>avatar</code> (String): URL image. - <code>friendsSince</code> (String): Date de d\u00e9but d'amiti\u00e9.</p> <pre><code>const myFriends = await Ondes.Friends.list();\nconsole.log(`Vous avez ${myFriends.length} amis.`);\n</code></pre>"},{"location":"sdk/friends/#searchquery","title":"<code>search(query)</code>","text":"<p>Recherche des utilisateurs par nom.</p> <p>Retourne : <code>Promise&lt;Array&lt;UserSearchResult&gt;&gt;</code> avec statut d'amiti\u00e9 (<code>pending</code>, <code>accepted</code>, <code>none</code>, <code>blocked</code>).</p> <pre><code>const results = await Ondes.Friends.search(\"Alice\");\n</code></pre>"},{"location":"sdk/friends/#gestion-des-demandes","title":"Gestion des demandes","text":""},{"location":"sdk/friends/#requestoptions","title":"<code>request(options)</code>","text":"<p>Envoie une demande d'amiti\u00e9 \u00e0 un utilisateur.</p> Option Description <code>username</code> Nom d'utilisateur cible. <code>userId</code> ID de l'utilisateur cible (alternative). <pre><code>await Ondes.Friends.request({ username: \"BobDylan\" });\n</code></pre>"},{"location":"sdk/friends/#getpendingrequests","title":"<code>getPendingRequests()</code>","text":"<p>Liste les demandes re\u00e7ues qui sont en attente de validation.</p> <p>Retourne : <code>Promise&lt;Array&lt;Request&gt;&gt;</code></p>"},{"location":"sdk/friends/#acceptfriendshipid","title":"<code>accept(friendshipId)</code>","text":"<p>Accepte une demande d'amiti\u00e9 re\u00e7ue.</p> <pre><code>await Ondes.Friends.accept(12345);\n</code></pre>"},{"location":"sdk/friends/#rejectfriendshipid","title":"<code>reject(friendshipId)</code>","text":"<p>Refuse une demande d'amiti\u00e9.</p> <pre><code>await Ondes.Friends.reject(12345);\n</code></pre>"},{"location":"sdk/friends/#gestion-des-relations","title":"Gestion des relations","text":""},{"location":"sdk/friends/#removefriendshipid","title":"<code>remove(friendshipId)</code>","text":"<p>Supprime un ami de votre liste.</p> <pre><code>await Ondes.Friends.remove(relationId);\n</code></pre>"},{"location":"sdk/friends/#blockoptions","title":"<code>block(options)</code>","text":"<p>Bloque un utilisateur pour qu'il ne puisse plus interagir avec vous.</p> <pre><code>await Ondes.Friends.block({ username: \"TrollUser\" });\n</code></pre>"},{"location":"sdk/friends/#unblockuserid","title":"<code>unblock(userId)</code>","text":"<p>D\u00e9bloque un utilisateur pr\u00e9c\u00e9demment bloqu\u00e9.</p> <pre><code>await Ondes.Friends.unblock(99);\n</code></pre>"},{"location":"sdk/friends/#getblocked","title":"<code>getBlocked()</code>","text":"<p>Liste tous les utilisateurs bloqu\u00e9s.</p>"},{"location":"sdk/permissions/","title":"\ud83d\udee1\ufe0f S\u00e9curit\u00e9 &amp; Permissions","text":"<p>Ondes Core s\u00e9curise l'acc\u00e8s aux fonctionnalit\u00e9s natives du t\u00e9l\u00e9phone gr\u00e2ce \u00e0 son architecture de Sandbox.</p>"},{"location":"sdk/permissions/#le-manifeste-de-securite","title":"Le manifeste de s\u00e9curit\u00e9","text":"<p>Chaque Mini-App doit d\u00e9clarer ses besoins dans son fichier <code>manifest.json</code>. Si une fonctionnalit\u00e9 sensible est utilis\u00e9e sans \u00eatre d\u00e9clar\u00e9e, l'API <code>Ondes</code> retournera une erreur de permission.</p>"},{"location":"sdk/permissions/#exemple-de-manifestjson","title":"Exemple de manifest.json","text":"<pre><code>{\n    \"id\": \"com.monapp.explore\",\n    \"name\": \"Explorateur\",\n    \"version\": \"1.0.0\",\n    \"permissions\": [\n        \"camera\",\n        \"location\",\n        \"storage\"\n    ]\n}\n</code></pre>"},{"location":"sdk/permissions/#liste-des-permissions","title":"Liste des permissions","text":"<p>Voici les cl\u00e9s de permissions support\u00e9es par le syst\u00e8me :</p> Cl\u00e9 Description <code>camera</code> Acc\u00e8s \u00e0 la cam\u00e9ra (Scanner QR, photos) <code>microphone</code> Acc\u00e8s au micro <code>location</code> Acc\u00e8s \u00e0 la position GPS <code>storage</code> Lecture/\u00c9criture de fichiers <code>contacts</code> Acc\u00e8s au carnet d'adresses <code>friends</code> Acc\u00e8s \u00e0 la liste d'amis et au graphe social <code>social</code> Interactions sociales (Like, Follow, Feed) <code>notifications</code> Droit d'envoyer des notifications <code>bluetooth</code> Acc\u00e8s Bluetooth"},{"location":"sdk/permissions/#flux-dapprobation","title":"Flux d'approbation","text":"<ol> <li>T\u00e9l\u00e9chargement : L'utilisateur t\u00e9l\u00e9charge l'app depuis le Store.</li> <li>Lancement : Au premier lancement, Ondes Core d\u00e9tecte les permissions requises dans le manifest.</li> <li>Consentement : Une modale syst\u00e8me (Glassmorphism UI) liste les permissions demand\u00e9es.<ul> <li>Accepter : Les permissions sont stock\u00e9es de mani\u00e8re persistante et l'app se lance.</li> <li>Refuser : Le lancement est annul\u00e9.</li> </ul> </li> <li>Ex\u00e9cution : Lors des appels API (ex: <code>Ondes.Device.getGPSPosition()</code>), le Bridge v\u00e9rifie l'autorisation.</li> </ol>"},{"location":"sdk/permissions/#bonnes-pratiques","title":"Bonnes pratiques","text":"<ul> <li>Minimisez les demandes : Ne demandez pas <code>location</code> si vous n'affichez pas de carte.</li> <li>G\u00e9rez les erreurs : M\u00eame si la permission est dans le manifest, l'utilisateur peut la r\u00e9voquer dans les param\u00e8tres du syst\u00e8me OS (iOS/Android) pour l'application Ondes Core elle-m\u00eame.</li> </ul>"},{"location":"sdk/social/","title":"\ud83c\udf0d Ondes.Social - R\u00e9seau Social","text":"<p>Le module le plus riche du SDK. Il g\u00e8re le fil d'actualit\u00e9, les posts, les likes, les commentaires, les stories et le syst\u00e8me de follow/followers type Instagram/TikTok.</p> <p>\ud83d\udcf9 Smart Media : Les vid\u00e9os upload\u00e9es sont automatiquement converties en format HLS pour un streaming adaptatif. Les images sont optimis\u00e9es (max 1920\u00d71920, JPEG 85%).</p>"},{"location":"sdk/social/#profil","title":"Profil","text":""},{"location":"sdk/social/#getprofileoptions","title":"<code>getProfile(options?)</code>","text":"<p>R\u00e9cup\u00e8re le profil d'un utilisateur. Sans param\u00e8tre, retourne le profil de l'utilisateur connect\u00e9.</p> Param\u00e8tre Type Description <code>userId</code> Number ID de l'utilisateur (optionnel). <code>username</code> String Nom d'utilisateur (optionnel). <pre><code>// Mon profil\nconst me = await Ondes.Social.getProfile();\n\n// Profil d'un autre utilisateur\nconst user = await Ondes.Social.getProfile({ userId: 42 });\nconst user2 = await Ondes.Social.getProfile({ username: 'alice' });\n</code></pre> <p>Retour : Objet avec <code>id</code>, <code>username</code>, <code>avatar</code>, <code>bio</code>, <code>followers_count</code>, <code>following_count</code>, <code>posts_count</code>, <code>is_following</code>.</p>"},{"location":"sdk/social/#searchusersquery","title":"<code>searchUsers(query)</code>","text":"<p>Recherche des utilisateurs par nom ou pseudo.</p> <pre><code>const users = await Ondes.Social.searchUsers('alice');\n// [{ id, username, avatar, bio, followers_count, is_following }, ...]\n</code></pre>"},{"location":"sdk/social/#fil-dactualite-feed","title":"Fil d'actualit\u00e9 (Feed)","text":""},{"location":"sdk/social/#getfeedoptions","title":"<code>getFeed(options?)</code>","text":"<p>R\u00e9cup\u00e8re une liste de posts selon l'algorithme s\u00e9lectionn\u00e9.</p> Param\u00e8tre Type Default Description <code>type</code> String <code>'main'</code> Type de feed : <code>'main'</code>, <code>'discover'</code>, <code>'friends'</code>, <code>'video'</code>. <code>limit</code> Number <code>50</code> Nombre de posts \u00e0 r\u00e9cup\u00e9rer. <code>offset</code> Number <code>0</code> D\u00e9calage pour la pagination. <pre><code>// Feed principal (algorithme scoring)\nconst feed = await Ondes.Social.getFeed();\n\n// Feed d\u00e9couverte (posts publics populaires)\nconst discover = await Ondes.Social.getFeed({ type: 'discover', limit: 30 });\n\n// Feed amis only (amiti\u00e9 bidirectionnelle)\nconst friends = await Ondes.Social.getFeed({ type: 'friends' });\n\n// Feed vid\u00e9o \"TikTok style\"\nconst videos = await Ondes.Social.getFeed({ type: 'video', limit: 10 });\n</code></pre> <p>Retour : Liste de posts (voir structure Post ci-dessous).</p>"},{"location":"sdk/social/#getuserpostsuserid-options","title":"<code>getUserPosts(userId, options?)</code>","text":"<p>R\u00e9cup\u00e8re les publications d'un utilisateur sp\u00e9cifique.</p> Param\u00e8tre Type Default Description <code>userId</code> Number \u2014 ID de l'utilisateur (obligatoire, arg positionnel). <code>limit</code> Number <code>30</code> Nombre de posts. <code>offset</code> Number <code>0</code> Pagination. <pre><code>const posts = await Ondes.Social.getUserPosts(42, { limit: 20, offset: 0 });\n</code></pre>"},{"location":"sdk/social/#publications-posts","title":"Publications (Posts)","text":""},{"location":"sdk/social/#publishoptions","title":"<code>publish(options)</code>","text":"<p>Cr\u00e9e un nouveau post (avec ou sans m\u00e9dia).</p> Param\u00e8tre Type Description <code>content</code> String L\u00e9gende du post. <code>media</code> Array\\&lt;String&gt; Chemins locaux des fichiers \u00e0 uploader. <code>visibility</code> String <code>'public'</code>, <code>'followers'</code>, <code>'private'</code>. <code>tags</code> Array\\&lt;String&gt; Tags associ\u00e9s au post. <code>latitude</code> Number Latitude (g\u00e9olocalisation optionnelle). <code>longitude</code> Number Longitude. <code>locationName</code> String Nom du lieu affich\u00e9. <pre><code>await Ondes.Social.publish({\n    content: \"Coucher de soleil magnifique ! \ud83c\udf05\",\n    media: [\"/path/to/sunset.jpg\"],\n    visibility: \"public\",\n    tags: [\"sunset\", \"photography\"]\n});\n</code></pre>"},{"location":"sdk/social/#getpostpostuuid","title":"<code>getPost(postUuid)</code>","text":"<p>R\u00e9cup\u00e8re les d\u00e9tails complets d'un post.</p> <pre><code>const post = await Ondes.Social.getPost('abc-123');\n</code></pre>"},{"location":"sdk/social/#deletepostpostuuid","title":"<code>deletePost(postUuid)</code>","text":"<p>Supprime un post existant (auteur uniquement).</p>"},{"location":"sdk/social/#interactions","title":"Interactions","text":""},{"location":"sdk/social/#likepostpostuuid-unlikepostpostuuid","title":"<code>likePost(postUuid)</code> / <code>unlikePost(postUuid)</code>","text":"<p>Ajoute ou retire un \"J'aime\" sur un post.</p> <pre><code>await Ondes.Social.likePost('post-uuid');\nawait Ondes.Social.unlikePost('post-uuid');\n</code></pre>"},{"location":"sdk/social/#getpostlikerspostuuid","title":"<code>getPostLikers(postUuid)</code>","text":"<p>R\u00e9cup\u00e8re la liste des utilisateurs ayant aim\u00e9 un post.</p> <pre><code>const likers = await Ondes.Social.getPostLikers('post-uuid');\n// [{ id, username, avatar, is_following }, ...]\n</code></pre>"},{"location":"sdk/social/#addcommentpostuuid-content-parentuuid","title":"<code>addComment(postUuid, content, parentUuid?)</code>","text":"<p>Ajoute un commentaire \u00e0 un post. Si <code>parentUuid</code> est fourni, c'est une r\u00e9ponse \u00e0 un autre commentaire (commentaires imbriqu\u00e9s).</p> <pre><code>// Commentaire principal\nawait Ondes.Social.addComment('post-uuid', 'Super photo !');\n\n// R\u00e9ponse \u00e0 un commentaire\nawait Ondes.Social.addComment('post-uuid', 'Merci !', 'parent-comment-uuid');\n</code></pre>"},{"location":"sdk/social/#getcommentspostuuid-options","title":"<code>getComments(postUuid, options?)</code>","text":"<p>R\u00e9cup\u00e8re les commentaires d'un post.</p> Param\u00e8tre Type Default Description <code>limit</code> Number <code>50</code> Nombre de commentaires. <code>offset</code> Number <code>0</code> Pagination. <pre><code>const comments = await Ondes.Social.getComments('post-uuid', { limit: 20 });\n// [{ uuid, user, content, likes_count, is_liked, replies_count, created_at }, ...]\n</code></pre>"},{"location":"sdk/social/#getcommentrepliescommentuuid","title":"<code>getCommentReplies(commentUuid)</code>","text":"<p>R\u00e9cup\u00e8re les r\u00e9ponses \u00e0 un commentaire sp\u00e9cifique.</p> <pre><code>const replies = await Ondes.Social.getCommentReplies('comment-uuid');\n</code></pre>"},{"location":"sdk/social/#likecommentcommentuuid","title":"<code>likeComment(commentUuid)</code>","text":"<p>Ajoute un \"J'aime\" sur un commentaire.</p>"},{"location":"sdk/social/#deletecommentcommentuuid","title":"<code>deleteComment(commentUuid)</code>","text":"<p>Supprime un commentaire (auteur uniquement).</p>"},{"location":"sdk/social/#bookmarkpostpostuuid-unbookmarkpostpostuuid","title":"<code>bookmarkPost(postUuid)</code> / <code>unbookmarkPost(postUuid)</code>","text":"<p>Sauvegarde ou retire un post des favoris priv\u00e9s de l'utilisateur.</p> <pre><code>await Ondes.Social.bookmarkPost('post-uuid');\nawait Ondes.Social.unbookmarkPost('post-uuid');\n</code></pre>"},{"location":"sdk/social/#getbookmarksoptions","title":"<code>getBookmarks(options?)</code>","text":"<p>R\u00e9cup\u00e8re la liste des posts sauvegard\u00e9s par l'utilisateur.</p> Param\u00e8tre Type Default Description <code>limit</code> Number <code>50</code> Nombre de posts. <code>offset</code> Number <code>0</code> Pagination. <pre><code>const bookmarks = await Ondes.Social.getBookmarks({ limit: 30 });\n</code></pre>"},{"location":"sdk/social/#stories-ephemeres-24h","title":"Stories (\u00e9ph\u00e9m\u00e8res 24h)","text":""},{"location":"sdk/social/#createstorymediapath-duration","title":"<code>createStory(mediaPath, duration?)</code>","text":"<p>Publie une photo ou vid\u00e9o visible pendant 24h.</p> Param\u00e8tre Type Default Description <code>mediaPath</code> String \u2014 Chemin local vers le fichier m\u00e9dia. <code>duration</code> Number <code>5.0</code> Dur\u00e9e d'affichage en secondes (images). <pre><code>await Ondes.Social.createStory('/path/to/photo.jpg');\nawait Ondes.Social.createStory('/path/to/video.mp4', 15);\n</code></pre>"},{"location":"sdk/social/#getstories","title":"<code>getStories()</code>","text":"<p>R\u00e9cup\u00e8re les stories des utilisateurs suivis, group\u00e9es par auteur.</p> <pre><code>const storyGroups = await Ondes.Social.getStories();\n// [{ user: {...}, stories: [...], hasUnviewed: true }, ...]\n</code></pre> <p>Chaque story contient : <code>uuid</code>, <code>author</code>, <code>media_url</code>, <code>hls_url</code>, <code>media_type</code>, <code>duration</code>, <code>views_count</code>, <code>is_viewed</code>, <code>created_at</code>, <code>expires_at</code>.</p>"},{"location":"sdk/social/#viewstorystoryuuid","title":"<code>viewStory(storyUuid)</code>","text":"<p>Marque une story comme vue (incr\u00e9mente le compteur).</p> <pre><code>await Ondes.Social.viewStory('story-uuid');\n// { success: true, viewsCount: 42 }\n</code></pre>"},{"location":"sdk/social/#deletestorystoryuuid","title":"<code>deleteStory(storyUuid)</code>","text":"<p>Supprime une de ses propres stories.</p>"},{"location":"sdk/social/#relations-follow","title":"Relations (Follow)","text":"<p>Contrairement \u00e0 <code>Ondes.Friends</code> (amiti\u00e9 bidirectionnelle), <code>Ondes.Social</code> g\u00e8re le syst\u00e8me de Followers/Following (unidirectionnel).</p>"},{"location":"sdk/social/#followoptions-unfollowoptions","title":"<code>follow(options)</code> / <code>unfollow(options)</code>","text":"<p>Suivre ou ne plus suivre un utilisateur.</p> Param\u00e8tre Type Description <code>userId</code> Number ID de l'utilisateur. <code>username</code> String Ou nom d'utilisateur (alternatif). <pre><code>await Ondes.Social.follow({ userId: 42 });\nawait Ondes.Social.unfollow({ username: 'alice' });\n</code></pre>"},{"location":"sdk/social/#getfollowersuserid","title":"<code>getFollowers(userId?)</code>","text":"<p>R\u00e9cup\u00e8re la liste des abonn\u00e9s d'un utilisateur. Sans argument, retourne ses propres abonn\u00e9s.</p>"},{"location":"sdk/social/#getfollowinguserid","title":"<code>getFollowing(userId?)</code>","text":"<p>R\u00e9cup\u00e8re la liste des abonnements d'un utilisateur.</p> <pre><code>const myFollowers = await Ondes.Social.getFollowers();\nconst aliceFollowing = await Ondes.Social.getFollowing(42);\n// [{ id, username, avatar, bio, is_following }, ...]\n</code></pre>"},{"location":"sdk/social/#medias","title":"M\u00e9dias","text":""},{"location":"sdk/social/#pickmediaoptions","title":"<code>pickMedia(options?)</code>","text":"<p>Ouvre la galerie native pour laisser l'utilisateur choisir des photos ou vid\u00e9os.</p> Option Type Default Description <code>multiple</code> Boolean <code>false</code> Autoriser plusieurs fichiers. <code>maxFiles</code> Number <code>10</code> Nombre max de fichiers. <code>allowVideo</code> Boolean <code>false</code> Autoriser les vid\u00e9os. <code>videoOnly</code> Boolean <code>false</code> Vid\u00e9os uniquement. <pre><code>const files = await Ondes.Social.pickMedia({\n    multiple: true,\n    maxFiles: 5,\n    allowVideo: true\n});\n// [{ path: \"/local/path\", type: \"image\", name: \"photo.jpg\", previewUrl: \"data:...\" }, ...]\n</code></pre>"},{"location":"sdk/social/#structure-des-donnees","title":"Structure des donn\u00e9es","text":""},{"location":"sdk/social/#post","title":"Post","text":"<pre><code>{\n    uuid: \"abc-123\",\n    author: { id, username, avatar, bio, followers_count, following_count, is_following },\n    content: \"Ma l\u00e9gende\",\n    visibility: \"public\",\n    tags: [\"tag1\", \"tag2\"],\n    media: [\n        {\n            uuid: \"...\",\n            media_type: \"image\" | \"video\",\n            display_url: \"https://...\",\n            thumbnail_url: \"https://...\",\n            hls_url: \"https://...\" | null,       // Pr\u00e9sent pour les vid\u00e9os HLS-ready\n            width: 1920, height: 1080,\n            duration: 30.5,                       // Secondes (vid\u00e9os)\n            processing_status: \"completed\",\n            hls_ready: true,\n            order: 0\n        }\n    ],\n    likes_count: 42,\n    comments_count: 5,\n    shares_count: 0,\n    views_count: 120,\n    user_has_liked: true,\n    user_has_bookmarked: false,\n    comments_preview: [/* premiers commentaires */],\n    latitude: 48.8566, longitude: 2.3522,\n    location_name: \"Paris, France\",\n    created_at: \"2026-01-15T14:30:00Z\",\n    relevance_score: 0.85\n}\n</code></pre>"},{"location":"sdk/storage/","title":"\ud83d\udcbe Ondes.Storage - Stockage Local","text":"<p>Ce module permet de sauvegarder des donn\u00e9es de mani\u00e8re persistante sur l'appareil de l'utilisateur.</p> <p>\ud83d\udd12 Isolation des donn\u00e9es : Chaque mini-app poss\u00e8de son propre espace de stockage s\u00e9curis\u00e9. Vous ne pouvez pas acc\u00e9der aux donn\u00e9es d'une autre application.</p>"},{"location":"sdk/storage/#setkey-value","title":"<code>set(key, value)</code>","text":"<p>Sauvegarde une paire cl\u00e9/valeur. Les donn\u00e9es sont s\u00e9rialis\u00e9es automatiquement.</p> Param\u00e8tre Type Description <code>key</code> String Cl\u00e9 d'identification unique. <code>value</code> Any Donn\u00e9e (String, Number, Boolean, Object, Array). <pre><code>// Stocker un objet complexe\nawait Ondes.Storage.set('user_config', {\n    darkMode: true,\n    fontSize: 14,\n    lastVisit: Date.now()\n});\n</code></pre>"},{"location":"sdk/storage/#getkey","title":"<code>get(key)</code>","text":"<p>R\u00e9cup\u00e8re une valeur stock\u00e9e.</p> Param\u00e8tre Type Description <code>key</code> String La cl\u00e9 \u00e0 rechercher. <p>Retourne : <code>Promise&lt;Any | null&gt;</code> - La valeur originale ou <code>null</code> si non trouv\u00e9e.</p> <pre><code>const config = await Ondes.Storage.get('user_config');\nif (config &amp;&amp; config.darkMode) {\n    applyDarkTheme();\n}\n</code></pre>"},{"location":"sdk/storage/#removekey","title":"<code>remove(key)</code>","text":"<p>Supprime d\u00e9finitivement une entr\u00e9e du stockage.</p> <pre><code>await Ondes.Storage.remove('temp_cache');\n</code></pre>"},{"location":"sdk/storage/#clear","title":"<code>clear()</code>","text":"<p>Efface toutes les donn\u00e9es stock\u00e9es pour cette application. \u00c0 utiliser avec pr\u00e9caution.</p> <pre><code>await Ondes.Storage.clear();\n</code></pre>"},{"location":"sdk/storage/#getkeys","title":"<code>getKeys()</code>","text":"<p>Retourne la liste de toutes les cl\u00e9s existantes dans le stockage de l'app.</p> <p>Retourne : <code>Promise&lt;Array&lt;String&gt;&gt;</code></p> <pre><code>const keys = await Ondes.Storage.getKeys();\nconsole.log(`Vous avez ${keys.length} \u00e9l\u00e9ments sauvegard\u00e9s.`);\n</code></pre>"},{"location":"sdk/udp/","title":"Ondes.UDP","text":"<p>Le module UDP permet de g\u00e9rer des sockets UDP pour la d\u00e9couverte de p\u00e9riph\u00e9riques et la communication r\u00e9seau dans vos mini-apps.</p>"},{"location":"sdk/udp/#vue-densemble","title":"Vue d'ensemble","text":"<p>UDP (User Datagram Protocol) est un protocole de communication id\u00e9al pour :</p> <ul> <li>D\u00e9couverte de p\u00e9riph\u00e9riques sur un r\u00e9seau local (broadcast)</li> <li>Communication l\u00e9g\u00e8re sans \u00e9tablissement de connexion</li> <li>Messages \u00e0 faible latence o\u00f9 la fiabilit\u00e9 n'est pas critique</li> </ul>"},{"location":"sdk/udp/#api-reference","title":"API Reference","text":""},{"location":"sdk/udp/#bindoptions","title":"<code>bind(options?)</code>","text":"<p>Cr\u00e9e et lie un socket UDP \u00e0 un port local.</p> <pre><code>const socket = await Ondes.UDP.bind({\n  port: 12345,        // Port local (0 = port al\u00e9atoire)\n  broadcast: true,    // Autoriser le broadcast (d\u00e9faut: true)\n  reuseAddress: true  // Permettre la r\u00e9utilisation de l'adresse (d\u00e9faut: true)\n});\n\nconsole.log(`Socket cr\u00e9\u00e9: ${socket.id} sur le port ${socket.port}`);\n</code></pre> <p>Retourne: <pre><code>{\n  id: \"udp_1705761234567_1\",  // ID unique du socket\n  port: 12345,                 // Port effectif\n  broadcast: true,             // Broadcast activ\u00e9\n  status: \"bound\"              // Statut du socket\n}\n</code></pre></p>"},{"location":"sdk/udp/#sendsocketid-message-address-port","title":"<code>send(socketId, message, address, port)</code>","text":"<p>Envoie un message UDP \u00e0 une adresse et un port sp\u00e9cifiques.</p> <pre><code>const result = await Ondes.UDP.send(\n  socket.id,\n  \"DISCOVER_ROBOT\",\n  \"192.168.1.100\",\n  12345\n);\n\nif (result.success) {\n  console.log(`Envoy\u00e9 ${result.bytesSent} octets`);\n}\n</code></pre> <p>Retourne: <pre><code>{\n  success: true,\n  bytesSent: 14,\n  address: \"192.168.1.100\",\n  port: 12345\n}\n</code></pre></p>"},{"location":"sdk/udp/#broadcastsocketid-message-addresses-port","title":"<code>broadcast(socketId, message, addresses, port?)</code>","text":"<p>Envoie un message UDP \u00e0 plusieurs adresses simultan\u00e9ment.</p> <pre><code>const result = await Ondes.UDP.broadcast(\n  socket.id,\n  \"DISCOVER_ROBOT\",\n  [\n    \"192.168.1.255\",    // Broadcast r\u00e9seau local\n    \"192.168.4.255\",    // Point d'acc\u00e8s WiFi\n    \"192.168.4.1\",      // Gateway du mode AP\n    \"172.20.10.1\"       // Partage de connexion\n  ],\n  12345\n);\n\nconsole.log(`Broadcast vers ${result.results.length} adresses`);\nresult.results.forEach(r =&gt; {\n  console.log(`${r.address}: ${r.success ? 'OK' : r.error}`);\n});\n</code></pre> <p>Retourne: <pre><code>{\n  socketId: \"udp_123...\",\n  messageLength: 14,\n  port: 12345,\n  results: [\n    { address: \"192.168.1.255\", success: true, bytesSent: 14 },\n    { address: \"192.168.4.255\", success: true, bytesSent: 14 },\n    { address: \"192.168.4.1\", success: false, error: \"Network unreachable\" }\n  ]\n}\n</code></pre></p>"},{"location":"sdk/udp/#closesocketid","title":"<code>close(socketId)</code>","text":"<p>Ferme un socket UDP.</p> <pre><code>await Ondes.UDP.close(socket.id);\nconsole.log(\"Socket ferm\u00e9\");\n</code></pre>"},{"location":"sdk/udp/#getinfosocketid","title":"<code>getInfo(socketId)</code>","text":"<p>R\u00e9cup\u00e8re les informations d'un socket.</p> <pre><code>const info = await Ondes.UDP.getInfo(socket.id);\nconsole.log(`Port: ${info.port}, Messages re\u00e7us: ${info.messagesReceived}`);\n</code></pre> <p>Retourne: <pre><code>{\n  id: \"udp_123...\",\n  port: 12345,\n  broadcast: true,\n  createdAt: 1705761234567,\n  messagesReceived: 5\n}\n</code></pre></p>"},{"location":"sdk/udp/#list","title":"<code>list()</code>","text":"<p>Liste tous les sockets UDP actifs.</p> <pre><code>const sockets = await Ondes.UDP.list();\nsockets.forEach(s =&gt; {\n  console.log(`Socket ${s.id}: port ${s.port}`);\n});\n</code></pre>"},{"location":"sdk/udp/#closeall","title":"<code>closeAll()</code>","text":"<p>Ferme tous les sockets UDP.</p> <pre><code>const result = await Ondes.UDP.closeAll();\nconsole.log(`${result.closedCount} sockets ferm\u00e9s`);\n</code></pre>"},{"location":"sdk/udp/#onmessagesocketid-callback","title":"<code>onMessage(socketId, callback)</code>","text":"<p>Enregistre un callback pour les messages entrants.</p> <pre><code>const unsubscribe = Ondes.UDP.onMessage(socket.id, (data) =&gt; {\n  console.log(`Message de ${data.address}:${data.port}`);\n  console.log(`Contenu: ${data.message}`);\n\n  // data contient:\n  // - socketId: ID du socket\n  // - message: Contenu du message (string)\n  // - data: Donn\u00e9es brutes (array d'octets)\n  // - address: Adresse IP de l'exp\u00e9diteur\n  // - port: Port de l'exp\u00e9diteur\n  // - timestamp: Horodatage de r\u00e9ception\n});\n\n// Pour arr\u00eater l'\u00e9coute:\nunsubscribe();\n</code></pre>"},{"location":"sdk/udp/#onclosesocketid-callback","title":"<code>onClose(socketId, callback)</code>","text":"<p>Enregistre un callback pour la fermeture du socket.</p> <pre><code>const unsubscribe = Ondes.UDP.onClose(socket.id, (data) =&gt; {\n  console.log(`Socket ${data.socketId} ferm\u00e9`);\n});\n</code></pre>"},{"location":"sdk/udp/#exemple-complet-decouverte-de-robots","title":"Exemple complet : D\u00e9couverte de robots","text":"<pre><code>async function discoverRobots() {\n  const robots = [];\n\n  // 1. Cr\u00e9er un socket UDP\n  const socket = await Ondes.UDP.bind({ port: 12345, broadcast: true });\n  console.log(`Socket li\u00e9 sur le port ${socket.port}`);\n\n  // 2. \u00c9couter les r\u00e9ponses\n  Ondes.UDP.onMessage(socket.id, (data) =&gt; {\n    // Parser le message: &lt;IP,Nom,ID,Couleur&gt;\n    const match = data.message.match(/&lt;(.+)&gt;/);\n    if (!match) return;\n\n    const content = match[1];\n    if (content.startsWith(\"DISCOVER_ROBOT\")) return; // Ignorer nos propres messages\n\n    const parts = content.split(',');\n    const robot = {\n      ip: parts[0],\n      name: parts[1] || parts[0],\n      id: parts[2] || '',\n      color: parts[3] || ''\n    };\n\n    // \u00c9viter les doublons\n    if (!robots.find(r =&gt; r.ip === robot.ip)) {\n      robots.push(robot);\n      console.log(`Robot trouv\u00e9: ${robot.name} (${robot.ip})`);\n    }\n  });\n\n  // 3. Envoyer le broadcast de d\u00e9couverte\n  const addresses = [\n    '192.168.1.255',    // R\u00e9seau local\n    '192.168.4.255',    // Mode AP\n    '192.168.137.255',  // Partage Windows\n    '192.168.3.255',    // Autre r\u00e9seau\n    '192.168.4.1',      // Gateway AP\n    '172.20.10.1',      // Partage iPhone\n    '172.20.10.2',\n    '172.20.10.3'\n  ];\n\n  await Ondes.UDP.broadcast(socket.id, 'DISCOVER_ROBOT', addresses, 12345);\n\n  // 4. Attendre les r\u00e9ponses\n  await new Promise(resolve =&gt; setTimeout(resolve, 4000));\n\n  // 5. Fermer le socket\n  await Ondes.UDP.close(socket.id);\n\n  return robots;\n}\n\n// Utilisation\ndiscoverRobots().then(robots =&gt; {\n  if (robots.length === 0) {\n    console.log(\"Aucun robot trouv\u00e9\");\n  } else {\n    console.log(`${robots.length} robot(s) trouv\u00e9(s)`);\n    robots.forEach(r =&gt; console.log(`- ${r.name}: ${r.ip}`));\n  }\n});\n</code></pre>"},{"location":"sdk/udp/#exemple-flutter-sdk","title":"Exemple Flutter (SDK)","text":"<pre><code>import 'package:ondes_sdk/ondes_sdk.dart';\n\nFuture&lt;List&lt;Map&lt;String, String&gt;&gt;&gt; discoverRobots() async {\n  final robots = &lt;Map&lt;String, String&gt;&gt;[];\n\n  // Bind le socket\n  final socket = await Ondes.udp.bind(\n    options: UdpBindOptions(port: 12345, broadcast: true),\n  );\n\n  // \u00c9couter les messages\n  final subscription = Ondes.udp.onMessage(socket.id).listen((message) {\n    final match = RegExp(r'&lt;(.+)&gt;').firstMatch(message.message);\n    if (match == null) return;\n\n    final content = match.group(1)!;\n    if (content.startsWith('DISCOVER_ROBOT')) return;\n\n    final parts = content.split(',');\n    final robot = {\n      'ip': parts[0],\n      'name': parts.length &gt; 1 ? parts[1] : parts[0],\n      'id': parts.length &gt; 2 ? parts[2] : '',\n      'color': parts.length &gt; 3 ? parts[3] : '',\n    };\n\n    if (!robots.any((r) =&gt; r['ip'] == robot['ip'])) {\n      robots.add(robot);\n      print('Robot trouv\u00e9: ${robot['name']} (${robot['ip']})');\n    }\n  });\n\n  // Broadcast\n  await Ondes.udp.broadcast(\n    socket.id,\n    'DISCOVER_ROBOT',\n    [\n      '192.168.1.255',\n      '192.168.4.255',\n      '192.168.4.1',\n      '172.20.10.1',\n    ],\n    12345,\n  );\n\n  // Attendre les r\u00e9ponses\n  await Future.delayed(Duration(seconds: 4));\n\n  // Cleanup\n  await subscription.cancel();\n  await Ondes.udp.close(socket.id);\n\n  return robots;\n}\n</code></pre>"},{"location":"sdk/udp/#notes-importantes","title":"Notes importantes","text":""},{"location":"sdk/udp/#securite-reseau","title":"S\u00e9curit\u00e9 r\u00e9seau","text":"<ul> <li>Les sockets UDP sont cr\u00e9\u00e9s par le host natif (Ondes Core)</li> <li>Votre mini-app n'a pas d'acc\u00e8s direct au r\u00e9seau</li> <li>Le host peut limiter les ports/adresses autoris\u00e9s</li> </ul>"},{"location":"sdk/udp/#limitations-web","title":"Limitations Web","text":"<ul> <li>UDP n'est pas disponible directement dans les navigateurs</li> <li>Ce module fonctionne uniquement dans Ondes Core</li> <li>Sur un site web classique, utilisez WebSocket ou HTTP</li> </ul>"},{"location":"sdk/udp/#bonnes-pratiques","title":"Bonnes pratiques","text":"<ol> <li>Toujours fermer les sockets apr\u00e8s utilisation</li> <li>Limiter le temps de d\u00e9couverte (timeout)</li> <li>G\u00e9rer les erreurs de r\u00e9seau (Network unreachable)</li> <li>\u00c9viter les broadcasts excessifs</li> </ol>"},{"location":"sdk/udp/#voir-aussi","title":"Voir aussi","text":"<ul> <li>Ondes.Websocket - Pour les connexions persistantes</li> <li>Ondes.Device - Pour les infos r\u00e9seau</li> </ul>"},{"location":"sdk/ui/","title":"\ud83c\udfa8 Ondes.UI - Interface Utilisateur v3.0","text":"<p>Ce module permet de contr\u00f4ler l'interface native de l'application h\u00f4te avec des options de personnalisation avanc\u00e9es.</p>"},{"location":"sdk/ui/#table-des-matieres","title":"\ud83d\udccb Table des Mati\u00e8res","text":"<ul> <li>Notifications &amp; Toasts</li> <li>Bo\u00eetes de Dialogue</li> <li>Modales Ultra-Customis\u00e9es</li> <li>Action Sheets &amp; Bottom Sheets</li> <li>Syst\u00e8me de Drawer</li> <li>AppBar Avanc\u00e9e</li> <li>Loading &amp; Progress</li> <li>Snackbar Avanc\u00e9</li> <li>Styles &amp; Typographies</li> </ul>"},{"location":"sdk/ui/#showtoastoptions","title":"<code>showToast(options)</code>","text":"<p>Affiche une notification temporaire en bas de l'\u00e9cran.</p> Param\u00e8tre Type Description <code>message</code> String Texte \u00e0 afficher. <code>type</code> String Type de message : <code>'info'</code>, <code>'success'</code>, <code>'error'</code>, <code>'warning'</code>. <code>duration</code> Number Dur\u00e9e d'affichage en ms (d\u00e9faut: 3000). <code>position</code> String Position : <code>'top'</code> ou <code>'bottom'</code> (d\u00e9faut). <code>backgroundColor</code> String Couleur personnalis\u00e9e (hex). <code>bold</code> Boolean Texte en gras. <code>hideIcon</code> Boolean Masquer l'ic\u00f4ne. <pre><code>await Ondes.UI.showToast({\n    message: \"Sauvegarde effectu\u00e9e !\",\n    type: \"success\",\n    duration: 4000,\n    bold: true\n});\n</code></pre>"},{"location":"sdk/ui/#showalertoptions","title":"<code>showAlert(options)</code>","text":"<p>Affiche une bo\u00eete de dialogue modale informative avec styles personnalisables.</p> Param\u00e8tre Type Description <code>title</code> String Titre de la modale. <code>message</code> String Contenu du message. <code>buttonText</code> String Texte du bouton (d\u00e9faut: \"OK\"). <code>icon</code> String Nom de l'ic\u00f4ne (voir liste des ic\u00f4nes). <code>iconColor</code> String Couleur de l'ic\u00f4ne (hex). <code>borderRadius</code> Number Rayon des coins (d\u00e9faut: 16). <code>dismissible</code> Boolean Fermer en cliquant \u00e0 l'ext\u00e9rieur (d\u00e9faut: true). <code>titleStyle</code> Object Style du titre (voir Styles). <code>messageStyle</code> Object Style du message. <code>buttonStyle</code> Object Style du bouton. <code>buttonColor</code> String Couleur du bouton. <pre><code>await Ondes.UI.showAlert({\n    title: \"Maintenance\",\n    message: \"Le serveur sera indisponible ce soir.\",\n    buttonText: \"J'ai compris\",\n    icon: \"warning\",\n    iconColor: \"#f59e0b\",\n    borderRadius: 20,\n    titleStyle: {\n        fontFamily: \"Poppins\",\n        bold: true,\n        fontSize: 20\n    }\n});\n</code></pre>"},{"location":"sdk/ui/#showconfirmoptions","title":"<code>showConfirm(options)</code>","text":"<p>Affiche une bo\u00eete de confirmation avec deux choix.</p> Param\u00e8tre Type Description <code>title</code> String Titre. <code>message</code> String Question pos\u00e9e \u00e0 l'utilisateur. <code>confirmText</code> String Texte du bouton de validation. <code>cancelText</code> String Texte du bouton d'annulation. <code>confirmColor</code> String Couleur du bouton de confirmation. <code>cancelColor</code> String Couleur du bouton d'annulation. <code>icon</code> String Ic\u00f4ne affich\u00e9e. <code>iconColor</code> String Couleur de l'ic\u00f4ne. <p>Retourne : <code>Promise&lt;Boolean&gt;</code> - <code>true</code> si l'utilisateur confirme, <code>false</code> sinon.</p> <pre><code>const ok = await Ondes.UI.showConfirm({\n    title: \"Supprimer\",\n    message: \"\u00cates-vous s\u00fbr de vouloir supprimer cet \u00e9l\u00e9ment ?\",\n    confirmText: \"Oui, supprimer\",\n    cancelText: \"Annuler\",\n    confirmColor: \"#ef4444\",\n    icon: \"delete\",\n    iconColor: \"#ef4444\"\n});\n\nif (ok) {\n    deleteItem();\n}\n</code></pre>"},{"location":"sdk/ui/#showinputdialogoptions","title":"<code>showInputDialog(options)</code>","text":"<p>Affiche une bo\u00eete de dialogue avec un champ de saisie.</p> Param\u00e8tre Type Description <code>title</code> String Titre. <code>message</code> String Message explicatif. <code>placeholder</code> String Texte indicatif dans le champ. <code>label</code> String Label du champ. <code>defaultValue</code> String Valeur par d\u00e9faut. <code>confirmText</code> String Texte de confirmation. <code>cancelText</code> String Texte d'annulation. <code>keyboardType</code> String Type de clavier : <code>'text'</code>, <code>'email'</code>, <code>'number'</code>, <code>'phone'</code>, <code>'url'</code>. <code>obscureText</code> Boolean Masquer le texte (mot de passe). <code>multiline</code> Boolean Champ multi-lignes. <code>maxLength</code> Number Longueur maximale. <code>prefixIcon</code> String Ic\u00f4ne au d\u00e9but du champ. <p>Retourne : <code>Promise&lt;String|null&gt;</code> - Texte saisi ou <code>null</code> si annul\u00e9.</p> <pre><code>const name = await Ondes.UI.showInputDialog({\n    title: \"Nouveau dossier\",\n    message: \"Entrez le nom du dossier\",\n    placeholder: \"Mon dossier\",\n    prefixIcon: \"folder\",\n    confirmText: \"Cr\u00e9er\",\n    maxLength: 50\n});\n\nif (name) {\n    createFolder(name);\n}\n</code></pre>"},{"location":"sdk/ui/#showmodaloptions-new","title":"<code>showModal(options)</code> \u2b50 NEW","text":"<p>Affiche une modale ultra-personnalisable avec header, sections et boutons.</p> Param\u00e8tre Type Description <code>title</code> String Titre principal. <code>message</code> String Message descriptif. <code>icon</code> String Ic\u00f4ne principale. <code>iconColor</code> String Couleur de l'ic\u00f4ne. <code>iconBackgroundColor</code> String Couleur de fond de l'ic\u00f4ne. <code>iconSize</code> Number Taille de l'ic\u00f4ne. <code>header</code> Object Configuration du header (voir ci-dessous). <code>sections</code> Array Sections de contenu. <code>buttons</code> Array Boutons d'action. <code>buttonsLayout</code> String <code>'horizontal'</code> ou <code>'vertical'</code>. <code>borderRadius</code> Number Rayon des coins. <code>backgroundColor</code> String Couleur de fond. <code>barrierColor</code> String Couleur du fond assombri. <code>centerContent</code> Boolean Centrer le contenu. <code>padding</code> Number Espacement interne. <code>maxWidth</code> Number Largeur maximale. <code>maxHeight</code> Number Hauteur maximale. <code>footerColor</code> String Couleur du footer. <code>titleStyle</code> Object Style du titre. <code>messageStyle</code> Object Style du message."},{"location":"sdk/ui/#header-configuration","title":"Header Configuration","text":"<pre><code>header: {\n    title: \"Titre du Header\",\n    icon: \"settings\",\n    backgroundColor: \"#1a73e8\",\n    iconColor: \"#ffffff\",\n    titleStyle: { bold: true, color: \"#ffffff\" },\n    showClose: true,\n    closeColor: \"#ffffff\"\n}\n</code></pre>"},{"location":"sdk/ui/#sections-configuration","title":"Sections Configuration","text":"<pre><code>sections: [\n    {\n        title: \"Section 1\",\n        titleStyle: { color: \"#666\", bold: true },\n        content: \"Texte de la section\",\n        items: [\n            { icon: \"check\", text: \"Item 1\", value: \"Valeur\", valueColor: \"#22c55e\" },\n            { icon: \"check\", text: \"Item 2\", value: \"Autre\" }\n        ]\n    }\n]\n</code></pre>"},{"location":"sdk/ui/#buttons-configuration","title":"Buttons Configuration","text":"<pre><code>buttons: [\n    { label: \"Annuler\", value: \"cancel\", outlined: true },\n    { label: \"Confirmer\", value: \"confirm\", primary: true, icon: \"check\" },\n    { label: \"Supprimer\", value: \"delete\", danger: true }\n]\n</code></pre> <p>Retourne : <code>Promise&lt;String|null&gt;</code> - Valeur du bouton cliqu\u00e9.</p>"},{"location":"sdk/ui/#exemple-complet","title":"Exemple Complet","text":"<pre><code>const result = await Ondes.UI.showModal({\n    icon: \"star\",\n    iconColor: \"#f59e0b\",\n    iconBackgroundColor: \"#fef3c7\",\n    iconSize: 56,\n    title: \"Nouvelle Fonctionnalit\u00e9 !\",\n    message: \"D\u00e9couvrez les modales ultra-personnalisables.\",\n    centerContent: true,\n    borderRadius: 24,\n    titleStyle: {\n        fontFamily: \"Poppins\",\n        fontSize: 24,\n        bold: true\n    },\n    sections: [\n        {\n            title: \"Nouveaut\u00e9s\",\n            items: [\n                { icon: \"check\", text: \"Feature 1\", value: \"\u2713\" },\n                { icon: \"check\", text: \"Feature 2\", value: \"\u2713\" }\n            ]\n        }\n    ],\n    buttons: [\n        { label: \"Plus tard\", value: \"later\", outlined: true },\n        { label: \"D\u00e9couvrir\", value: \"discover\", primary: true }\n    ]\n});\n</code></pre>"},{"location":"sdk/ui/#showbottomsheetoptions","title":"<code>showBottomSheet(options)</code>","text":"<p>Affiche un menu contextuel glissant depuis le bas de l'\u00e9cran.</p> Param\u00e8tre Type Description <code>title</code> String Titre du menu. <code>subtitle</code> String Sous-titre. <code>items</code> Array Liste des options. <code>scrollable</code> Boolean Contenu scrollable. <code>showDragHandle</code> Boolean Afficher la poign\u00e9e de glissement. <code>borderRadius</code> Number Rayon des coins. <code>backgroundColor</code> String Couleur de fond. <code>titleStyle</code> Object Style du titre."},{"location":"sdk/ui/#structure-dun-item","title":"Structure d'un Item","text":"<pre><code>{\n    icon: \"photo\",\n    label: \"Galerie\",\n    subtitle: \"Description optionnelle\",\n    value: \"gallery\",\n    iconColor: \"#22c55e\",\n    bold: true,\n    danger: false,\n    disabled: false,\n    trailing: \"\u2192\",\n    badge: \"3\",\n    badgeColor: \"#ef4444\"\n}\n</code></pre>"},{"location":"sdk/ui/#items-speciaux","title":"Items Sp\u00e9ciaux","text":"<pre><code>// S\u00e9parateur\n{ type: \"divider\", height: 16, indent: 16 }\n\n// En-t\u00eate de section\n{ type: \"section\", title: \"Cat\u00e9gorie\", color: \"#666\" }\n</code></pre> <p>Retourne : <code>Promise&lt;String|null&gt;</code> - L'ID de l'option choisie, ou <code>null</code> si annul\u00e9.</p> <pre><code>const choice = await Ondes.UI.showBottomSheet({\n    title: \"Ajouter un m\u00e9dia\",\n    subtitle: \"Choisissez une source\",\n    showDragHandle: true,\n    borderRadius: 24,\n    titleStyle: { fontFamily: \"Poppins\", bold: true },\n    items: [\n        { icon: \"photo\", label: \"Galerie\", value: \"gallery\", iconColor: \"#22c55e\" },\n        { icon: \"camera\", label: \"Appareil Photo\", value: \"camera\", iconColor: \"#3b82f6\" },\n        { type: \"divider\" },\n        { icon: \"delete\", label: \"Supprimer\", value: \"delete\", danger: true }\n    ]\n});\n</code></pre>"},{"location":"sdk/ui/#showactionsheetoptions-new","title":"<code>showActionSheet(options)</code> \u2b50 NEW","text":"<p>Affiche un action sheet style iOS.</p> Param\u00e8tre Type Description <code>title</code> String Titre. <code>message</code> String Message descriptif. <code>actions</code> Array Liste des actions. <code>cancelText</code> String Texte du bouton annuler."},{"location":"sdk/ui/#structure-dune-action","title":"Structure d'une Action","text":"<pre><code>{\n    label: \"Partager\",\n    value: \"share\",\n    destructive: false,\n    bold: false\n}\n</code></pre> <p>Retourne : <code>Promise&lt;String|null&gt;</code> - Valeur de l'action choisie.</p> <pre><code>const action = await Ondes.UI.showActionSheet({\n    title: \"Options\",\n    message: \"Choisissez une action\",\n    actions: [\n        { label: \"Partager\", value: \"share\" },\n        { label: \"Copier\", value: \"copy\" },\n        { label: \"Supprimer\", value: \"delete\", destructive: true }\n    ],\n    cancelText: \"Annuler\"\n});\n</code></pre>"},{"location":"sdk/ui/#configureappbaroptions-enhanced","title":"<code>configureAppBar(options)</code> \u2b50 ENHANCED","text":"<p>Configure la barre de navigation native avec options avanc\u00e9es.</p> Param\u00e8tre Type Description <code>title</code> String Titre affich\u00e9. <code>visible</code> Boolean Afficher/masquer la barre. <code>backgroundColor</code> String Couleur de fond (hex). <code>foregroundColor</code> String Couleur du texte/ic\u00f4nes (hex). <code>height</code> Number Hauteur de la barre. <code>elevation</code> Number Ombre (0 = aucune). <code>centerTitle</code> Boolean Centrer le titre. <code>titleBold</code> Boolean Titre en gras. <code>titleSize</code> Number Taille du titre. <code>fontFamily</code> String Police Google Fonts. <code>showBackButton</code> Boolean Afficher le bouton retour. <code>leading</code> Object Configuration du bouton gauche. <code>actions</code> Array Boutons d'action \u00e0 droite."},{"location":"sdk/ui/#leading-configuration","title":"Leading Configuration","text":"<pre><code>// Bouton menu (pour ouvrir le drawer)\nleading: { type: \"menu\" }\n\n// Ic\u00f4ne personnalis\u00e9e\nleading: { type: \"icon\", icon: \"search\" }\n\n// Avatar\nleading: { type: \"avatar\", image: \"https://...\" }\n</code></pre>"},{"location":"sdk/ui/#actions-configuration","title":"Actions Configuration","text":"<pre><code>actions: [\n    // Ic\u00f4ne simple\n    { type: \"icon\", icon: \"search\", value: \"search\" },\n\n    // Ic\u00f4ne avec badge\n    { type: \"badge\", icon: \"notifications\", value: \"notif\", badge: 5, badgeColor: \"#ef4444\" },\n\n    // Bouton texte\n    { type: \"text\", label: \"Save\", value: \"save\", bold: true, color: \"#ffffff\" }\n]\n</code></pre>"},{"location":"sdk/ui/#ecouter-les-actions","title":"\u00c9couter les Actions","text":"<pre><code>// \u00c9couter les clics sur les actions\nOndes.UI.onAppBarAction((data) =&gt; {\n    console.log(\"Action cliqu\u00e9e:\", data.value);\n});\n\n// \u00c9couter le clic sur le leading\nOndes.UI.onAppBarLeading((data) =&gt; {\n    console.log(\"Leading cliqu\u00e9\");\n});\n</code></pre>"},{"location":"sdk/ui/#exemple-complet_1","title":"Exemple Complet","text":"<pre><code>Ondes.UI.configureAppBar({\n    title: \"Mon Application\",\n    visible: true,\n    backgroundColor: \"#1e293b\",\n    foregroundColor: \"#ffffff\",\n    fontFamily: \"Poppins\",\n    titleBold: true,\n    titleSize: 20,\n    centerTitle: false,\n    elevation: 4,\n    height: 64,\n    leading: { type: \"menu\" },\n    actions: [\n        { type: \"icon\", icon: \"search\", value: \"search\" },\n        { type: \"badge\", icon: \"notifications\", value: \"notif\", badge: 3 },\n        { type: \"icon\", icon: \"settings\", value: \"settings\" }\n    ]\n});\n</code></pre>"},{"location":"sdk/ui/#configuredraweroptions-new","title":"<code>configureDrawer(options)</code> \u2b50 NEW","text":"<p>Configure un drawer de navigation lat\u00e9ral.</p> Param\u00e8tre Type Description <code>enabled</code> Boolean Activer le drawer. <code>side</code> String <code>'left'</code> ou <code>'right'</code>. <code>width</code> Number Largeur du drawer. <code>backgroundColor</code> String Couleur de fond. <code>borderRadius</code> Number Rayon des coins. <code>header</code> Object Configuration du header. <code>items</code> Array \u00c9l\u00e9ments du menu. <code>footer</code> Object Configuration du footer."},{"location":"sdk/ui/#header-configuration_1","title":"Header Configuration","text":"<pre><code>header: {\n    backgroundColor: \"#1a73e8\",\n    backgroundImage: \"https://...\", // Image de fond optionnelle\n    avatar: \"https://...\",\n    title: \"John Doe\",\n    subtitle: \"john@example.com\",\n    titleColor: \"#ffffff\",\n    subtitleColor: \"#e0e7ff\"\n}\n</code></pre>"},{"location":"sdk/ui/#items-configuration","title":"Items Configuration","text":"<pre><code>items: [\n    // Item normal\n    { icon: \"home\", label: \"Accueil\", value: \"home\", selected: true },\n\n    // Item avec badge\n    { icon: \"message\", label: \"Messages\", value: \"messages\", badge: \"5\", badgeColor: \"#ef4444\" },\n\n    // Item avec sous-titre\n    { icon: \"settings\", label: \"Param\u00e8tres\", subtitle: \"Personnaliser\", value: \"settings\" },\n\n    // Item avec trailing\n    { icon: \"help\", label: \"Aide\", value: \"help\", trailing: \"\u2192\" },\n\n    // Item d\u00e9sactiv\u00e9\n    { icon: \"lock\", label: \"Premium\", value: \"premium\", disabled: true },\n\n    // S\u00e9parateur\n    { type: \"divider\" },\n\n    // En-t\u00eate de section\n    { type: \"section\", title: \"Autres\", color: \"#666\" },\n\n    // Item color\u00e9\n    { icon: \"logout\", label: \"D\u00e9connexion\", value: \"logout\", iconColor: \"#ef4444\" }\n]\n</code></pre>"},{"location":"sdk/ui/#footer-configuration","title":"Footer Configuration","text":"<pre><code>// Texte simple\nfooter: {\n    text: \"Version 1.0.0\"\n}\n\n// Ic\u00f4nes d'action\nfooter: {\n    items: [\n        { icon: \"settings\", value: \"settings\", label: \"Param\u00e8tres\" },\n        { icon: \"help\", value: \"help\", label: \"Aide\" },\n        { icon: \"logout\", value: \"logout\", label: \"D\u00e9connexion\" }\n    ]\n}\n</code></pre>"},{"location":"sdk/ui/#ecouter-les-selections","title":"\u00c9couter les S\u00e9lections","text":"<pre><code>Ondes.UI.onDrawerSelect((data) =&gt; {\n    console.log(\"Item s\u00e9lectionn\u00e9:\", data.value);\n\n    switch(data.value) {\n        case 'home':\n            navigateTo('/');\n            break;\n        case 'settings':\n            navigateTo('/settings');\n            break;\n    }\n});\n</code></pre>"},{"location":"sdk/ui/#exemple-complet_2","title":"Exemple Complet","text":"<pre><code>// Configurer le drawer\nOndes.UI.configureDrawer({\n    enabled: true,\n    side: \"left\",\n    width: 300,\n    backgroundColor: \"#ffffff\",\n    header: {\n        backgroundColor: \"#1a73e8\",\n        avatar: \"https://i.pravatar.cc/150\",\n        title: \"John Doe\",\n        subtitle: \"john@example.com\"\n    },\n    items: [\n        { icon: \"home\", label: \"Accueil\", value: \"home\", selected: true },\n        { icon: \"person\", label: \"Profil\", value: \"profile\" },\n        { icon: \"settings\", label: \"Param\u00e8tres\", value: \"settings\" },\n        { type: \"divider\" },\n        { icon: \"logout\", label: \"D\u00e9connexion\", value: \"logout\", iconColor: \"#ef4444\" }\n    ],\n    footer: {\n        text: \"Ondes v3.0\"\n    }\n});\n\n// Configurer l'AppBar avec bouton menu\nOndes.UI.configureAppBar({\n    title: \"Mon App\",\n    visible: true,\n    leading: { type: \"menu\" }\n});\n</code></pre>"},{"location":"sdk/ui/#opendrawerside-new","title":"<code>openDrawer(side)</code> \u2b50 NEW","text":"<p>Ouvre le drawer programmatiquement.</p> Param\u00e8tre Type Description <code>side</code> String <code>'left'</code> (d\u00e9faut) ou <code>'right'</code>. <pre><code>Ondes.UI.openDrawer('left');\n</code></pre>"},{"location":"sdk/ui/#closedrawer-new","title":"<code>closeDrawer()</code> \u2b50 NEW","text":"<p>Ferme le drawer ouvert.</p> <pre><code>Ondes.UI.closeDrawer();\n</code></pre>"},{"location":"sdk/ui/#showloadingoptions-new","title":"<code>showLoading(options)</code> \u2b50 NEW","text":"<p>Affiche un overlay de chargement.</p> Param\u00e8tre Type Description <code>message</code> String Message \u00e0 afficher. <code>spinnerColor</code> String Couleur du spinner. <code>spinnerSize</code> Number Taille du spinner. <code>backgroundColor</code> String Couleur du fond du popup. <code>barrierColor</code> String Couleur de l'overlay. <code>barrierOpacity</code> Number Opacit\u00e9 de l'overlay (0-1). <code>messageStyle</code> Object Style du message. <pre><code>// Afficher\nOndes.UI.showLoading({\n    message: \"Chargement en cours...\",\n    spinnerColor: \"#1a73e8\",\n    spinnerSize: 48,\n    messageStyle: { fontFamily: \"Poppins\" }\n});\n\n// Masquer\nOndes.UI.hideLoading();\n</code></pre>"},{"location":"sdk/ui/#hideloading-new","title":"<code>hideLoading()</code> \u2b50 NEW","text":"<p>Masque l'overlay de chargement.</p> <pre><code>Ondes.UI.hideLoading();\n</code></pre>"},{"location":"sdk/ui/#showprogressoptions-new","title":"<code>showProgress(options)</code> \u2b50 NEW","text":"<p>Affiche un dialogue de progression.</p> Param\u00e8tre Type Description <code>title</code> String Titre. <code>message</code> String Message. <code>progress</code> Number Progression (0-100). <code>color</code> String Couleur de la barre. <pre><code>for (let i = 0; i &lt;= 100; i += 10) {\n    await Ondes.UI.showProgress({\n        title: \"T\u00e9l\u00e9chargement\",\n        message: `${i}% compl\u00e9t\u00e9`,\n        progress: i,\n        color: \"#22c55e\"\n    });\n    await sleep(500);\n}\n</code></pre>"},{"location":"sdk/ui/#showsnackbaroptions-new","title":"<code>showSnackbar(options)</code> \u2b50 NEW","text":"<p>Affiche un snackbar avanc\u00e9 avec action.</p> Param\u00e8tre Type Description <code>message</code> String Message principal. <code>subtitle</code> String Sous-titre optionnel. <code>icon</code> String Ic\u00f4ne. <code>iconColor</code> String Couleur de l'ic\u00f4ne. <code>backgroundColor</code> String Couleur de fond. <code>duration</code> Number Dur\u00e9e en ms (d\u00e9faut: 4000). <code>borderRadius</code> Number Rayon des coins. <code>action</code> Object Bouton d'action. <code>messageStyle</code> Object Style du message."},{"location":"sdk/ui/#action-configuration","title":"Action Configuration","text":"<pre><code>action: {\n    label: \"Annuler\",\n    value: \"undo\",\n    color: \"#60a5fa\"\n}\n</code></pre> <p>Retourne : <code>Promise&lt;String|null&gt;</code> - Valeur de l'action si cliqu\u00e9e.</p> <pre><code>const result = await Ondes.UI.showSnackbar({\n    message: \"\u00c9l\u00e9ment supprim\u00e9\",\n    subtitle: \"Cliquez pour annuler\",\n    icon: \"delete\",\n    backgroundColor: \"#1e293b\",\n    duration: 5000,\n    action: {\n        label: \"Annuler\",\n        value: \"undo\",\n        color: \"#60a5fa\"\n    }\n});\n\nif (result === 'undo') {\n    restoreItem();\n}\n</code></pre>"},{"location":"sdk/ui/#styles-typographies","title":"Styles &amp; Typographies","text":""},{"location":"sdk/ui/#textstyle-object","title":"TextStyle Object","text":"<p>Utilisez cet objet pour personnaliser le style du texte dans toutes les APIs.</p> Propri\u00e9t\u00e9 Type Description <code>fontFamily</code> String Police Google Fonts (ex: \"Poppins\", \"Roboto\", \"Pacifico\"). <code>fontSize</code> Number Taille de la police. <code>bold</code> Boolean Texte en gras. <code>fontWeight</code> Number/String Poids (100-900) ou \"bold\"/\"normal\". <code>italic</code> Boolean Texte en italique. <code>color</code> String Couleur (hex). <code>letterSpacing</code> Number Espacement des lettres. <code>lineHeight</code> Number Hauteur de ligne. <code>underline</code> Boolean Texte soulign\u00e9. <pre><code>{\n    fontFamily: \"Poppins\",\n    fontSize: 18,\n    bold: true,\n    color: \"#1e293b\",\n    letterSpacing: 0.5\n}\n</code></pre>"},{"location":"sdk/ui/#polices-google-fonts-populaires","title":"Polices Google Fonts Populaires","text":"<ul> <li>Sans-Serif : Poppins, Roboto, Inter, Open Sans, Lato, Montserrat, Nunito</li> <li>Serif : Playfair Display, Merriweather, Lora, Crimson Text</li> <li>Display : Pacifico, Lobster, Bebas Neue, Righteous</li> <li>Monospace : Fira Code, JetBrains Mono, Source Code Pro</li> </ul>"},{"location":"sdk/ui/#liste-des-icones-disponibles","title":"\ud83c\udfaf Liste des Ic\u00f4nes Disponibles","text":""},{"location":"sdk/ui/#actions","title":"Actions","text":"<p><code>share</code>, <code>copy</code>, <code>delete</code>, <code>edit</code>, <code>save</code>, <code>add</code>, <code>remove</code>, <code>close</code>, <code>check</code>, <code>done</code>, <code>cancel</code>, <code>refresh</code>, <code>search</code>, <code>filter</code>, <code>sort</code>, <code>menu</code>, <code>more</code>, <code>more_horiz</code></p>"},{"location":"sdk/ui/#media","title":"Media","text":"<p><code>camera</code>, <code>gallery</code>, <code>photo</code>, <code>video</code>, <code>music</code>, <code>mic</code>, <code>play</code>, <code>pause</code>, <code>stop</code></p>"},{"location":"sdk/ui/#communication","title":"Communication","text":"<p><code>message</code>, <code>chat</code>, <code>call</code>, <code>email</code>, <code>send</code>, <code>notifications</code></p>"},{"location":"sdk/ui/#navigation","title":"Navigation","text":"<p><code>home</code>, <code>back</code>, <code>forward</code>, <code>up</code>, <code>down</code>, <code>left</code>, <code>right</code>, <code>expand</code>, <code>collapse</code></p>"},{"location":"sdk/ui/#user","title":"User","text":"<p><code>person</code>, <code>user</code>, <code>people</code>, <code>group</code>, <code>profile</code>, <code>avatar</code>, <code>logout</code>, <code>login</code></p>"},{"location":"sdk/ui/#files","title":"Files","text":"<p><code>file</code>, <code>folder</code>, <code>document</code>, <code>download</code>, <code>upload</code>, <code>attach</code>, <code>link</code></p>"},{"location":"sdk/ui/#status","title":"Status","text":"<p><code>info</code>, <code>warning</code>, <code>error</code>, <code>success</code>, <code>help</code>, <code>question</code>, <code>star</code>, <code>heart</code>, <code>like</code>, <code>dislike</code></p>"},{"location":"sdk/ui/#settings","title":"Settings","text":"<p><code>settings</code>, <code>config</code>, <code>lock</code>, <code>unlock</code>, <code>key</code>, <code>security</code>, <code>privacy</code></p>"},{"location":"sdk/ui/#location","title":"Location","text":"<p><code>location</code>, <code>map</code>, <code>navigation</code>, <code>compass</code>, <code>gps</code></p>"},{"location":"sdk/ui/#time","title":"Time","text":"<p><code>time</code>, <code>clock</code>, <code>calendar</code>, <code>event</code>, <code>alarm</code>, <code>timer</code></p>"},{"location":"sdk/ui/#commerce","title":"Commerce","text":"<p><code>cart</code>, <code>bag</code>, <code>store</code>, <code>payment</code>, <code>credit_card</code>, <code>money</code></p>"},{"location":"sdk/ui/#device","title":"Device","text":"<p><code>phone</code>, <code>tablet</code>, <code>laptop</code>, <code>desktop</code>, <code>bluetooth</code>, <code>wifi</code>, <code>battery</code>, <code>brightness</code>, <code>volume</code></p>"},{"location":"sdk/ui/#weather","title":"Weather","text":"<p><code>sun</code>, <code>moon</code>, <code>cloud</code>, <code>rain</code>, <code>snow</code>, <code>thunder</code></p>"},{"location":"sdk/ui/#misc","title":"Misc","text":"<p><code>bookmark</code>, <code>flag</code>, <code>block</code>, <code>qrcode</code>, <code>fingerprint</code>, <code>face</code>, <code>emoji</code>, <code>gift</code>, <code>trophy</code>, <code>fire</code>, <code>flash</code>, <code>power</code>, <code>code</code>, <code>terminal</code>, <code>bug</code>, <code>analytics</code>, <code>dashboard</code>, <code>chart</code></p>"},{"location":"sdk/user/","title":"\ud83d\udc64 Ondes.User - Utilisateur","text":"<p>Ce module permet d'acc\u00e9der aux informations de l'utilisateur actuellement connect\u00e9 \u00e0 l'application principale.</p>"},{"location":"sdk/user/#getprofile","title":"<code>getProfile()</code>","text":"<p>R\u00e9cup\u00e8re les informations publiques du profil utilisateur.</p> <p>Retourne : <code>Promise&lt;UserProfile&gt;</code></p> Champ Type Description <code>id</code> Number Identifiant unique interne. <code>username</code> String Nom d'utilisateur (handle). <code>email</code> String Adresse email. <code>avatar</code> String URL compl\u00e8te de l'image de profil. <code>bio</code> String Biographie de l'utilisateur. <pre><code>const user = await Ondes.User.getProfile();\ndocument.getElementById('welcome').innerText = `Bonjour, ${user.username}`;\n</code></pre>"},{"location":"sdk/user/#isauthenticated","title":"<code>isAuthenticated()</code>","text":"<p>V\u00e9rifie rapidement si une session utilisateur est active.</p> <p>Retourne : <code>Promise&lt;Boolean&gt;</code></p> <pre><code>if (await Ondes.User.isAuthenticated()) {\n    showDashboard();\n} else {\n    showLoginPrompt();\n}\n</code></pre>"},{"location":"sdk/websocket/","title":"\ud83d\udd0c Ondes.Websocket","text":"<p>Le module <code>Ondes.Websocket</code> permet de cr\u00e9er et g\u00e9rer des connexions WebSocket bidirectionnelles depuis vos mini-apps. Id\u00e9al pour la communication en temps r\u00e9el avec des serveurs, robots, ou tout autre dispositif.</p>"},{"location":"sdk/websocket/#fonctionnalites","title":"\ud83d\udccb Fonctionnalit\u00e9s","text":"<ul> <li>\u2705 Connexions multiples simultan\u00e9es</li> <li>\u2705 Auto-reconnexion optionnelle</li> <li>\u2705 Support texte et JSON</li> <li>\u2705 \u00c9v\u00e9nements en temps r\u00e9el (messages, status)</li> <li>\u2705 Timeout configurable</li> </ul>"},{"location":"sdk/websocket/#connexion","title":"\ud83d\ude80 Connexion","text":""},{"location":"sdk/websocket/#ondeswebsocketconnecturl-options","title":"<code>Ondes.Websocket.connect(url, options)</code>","text":"<p>\u00c9tablit une connexion WebSocket.</p> <p>Param\u00e8tres :</p> Param\u00e8tre Type Description <code>url</code> <code>string</code> URL WebSocket (<code>ws://</code> ou <code>wss://</code>) <code>options.reconnect</code> <code>boolean</code> Auto-reconnexion (d\u00e9faut: <code>false</code>) <code>options.timeout</code> <code>number</code> Timeout en ms (d\u00e9faut: <code>10000</code>) <p>Retour : <code>Promise&lt;Connection&gt;</code></p> <pre><code>// Connexion simple\nconst conn = await Ondes.Websocket.connect('ws://192.168.1.42:8080');\n\n// Avec options\nconst conn = await Ondes.Websocket.connect('ws://192.168.1.42:8080', {\n    reconnect: true,  // Reconnexion automatique\n    timeout: 5000     // Timeout 5 secondes\n});\n\nconsole.log('Connect\u00e9!', conn.id);\n// { id: 'ws_1234567890_1', url: 'ws://...', status: 'connected', connectedAt: 1234567890 }\n</code></pre>"},{"location":"sdk/websocket/#envoi-de-messages","title":"\ud83d\udce4 Envoi de messages","text":""},{"location":"sdk/websocket/#ondeswebsocketsendconnectionid-data","title":"<code>Ondes.Websocket.send(connectionId, data)</code>","text":"<p>Envoie un message \u00e0 travers une connexion WebSocket.</p> <p>Param\u00e8tres :</p> Param\u00e8tre Type Description <code>connectionId</code> <code>string</code> ID de la connexion <code>data</code> <code>string \\| object</code> Donn\u00e9es \u00e0 envoyer <p>Retour : <code>Promise&lt;{success, id}&gt;</code></p> <pre><code>// Envoyer une cha\u00eene de caract\u00e8res\nawait Ondes.Websocket.send(conn.id, '&lt;100s50&gt;');\n\n// Envoyer un objet JSON (automatiquement stringifi\u00e9)\nawait Ondes.Websocket.send(conn.id, {\n    type: 'command',\n    action: 'move',\n    speed: 50\n});\n</code></pre>"},{"location":"sdk/websocket/#reception-de-messages","title":"\ud83d\udce5 R\u00e9ception de messages","text":""},{"location":"sdk/websocket/#ondeswebsocketonmessageconnectionid-callback","title":"<code>Ondes.Websocket.onMessage(connectionId, callback)</code>","text":"<p>Enregistre un callback pour recevoir les messages entrants.</p> <p>Param\u00e8tres :</p> Param\u00e8tre Type Description <code>connectionId</code> <code>string</code> ID de la connexion <code>callback</code> <code>function</code> Fonction appel\u00e9e \u00e0 chaque message <p>Retour : <code>function</code> - Fonction pour se d\u00e9sabonner</p> <pre><code>// \u00c9couter les messages\nconst unsubscribe = Ondes.Websocket.onMessage(conn.id, (message) =&gt; {\n    console.log('Message re\u00e7u:', message);\n\n    // Parser si c'est du JSON\n    if (typeof message === 'string' &amp;&amp; message.startsWith('{')) {\n        const data = JSON.parse(message);\n        handleData(data);\n    }\n});\n\n// Se d\u00e9sabonner plus tard\nunsubscribe();\n</code></pre>"},{"location":"sdk/websocket/#etat-de-la-connexion","title":"\ud83d\udcca \u00c9tat de la connexion","text":""},{"location":"sdk/websocket/#ondeswebsocketonstatuschangeconnectionid-callback","title":"<code>Ondes.Websocket.onStatusChange(connectionId, callback)</code>","text":"<p>Enregistre un callback pour les changements d'\u00e9tat.</p> <p>\u00c9tats possibles :</p> \u00c9tat Description <code>connecting</code> Connexion en cours <code>connected</code> Connexion active <code>disconnected</code> Connexion ferm\u00e9e <code>reconnecting</code> Tentative de reconnexion <code>error</code> Erreur de connexion <pre><code>Ondes.Websocket.onStatusChange(conn.id, (status, error) =&gt; {\n    console.log('Nouvel \u00e9tat:', status);\n\n    if (status === 'disconnected') {\n        Ondes.UI.showToast({ message: 'Connexion perdue', type: 'warning' });\n    }\n\n    if (status === 'error') {\n        console.error('Erreur:', error);\n    }\n\n    if (status === 'connected') {\n        Ondes.UI.showToast({ message: 'Connect\u00e9!', type: 'success' });\n    }\n});\n</code></pre>"},{"location":"sdk/websocket/#ondeswebsocketgetstatusconnectionid","title":"<code>Ondes.Websocket.getStatus(connectionId)</code>","text":"<p>R\u00e9cup\u00e8re l'\u00e9tat actuel d'une connexion.</p> <p>Retour : <code>Promise&lt;Status&gt;</code></p> <pre><code>const status = await Ondes.Websocket.getStatus(conn.id);\nconsole.log(status);\n// { id: 'ws_...', url: 'ws://...', status: 'connected', exists: true, connectedAt: ..., reconnect: true }\n</code></pre>"},{"location":"sdk/websocket/#deconnexion","title":"\ud83d\udd0c D\u00e9connexion","text":""},{"location":"sdk/websocket/#ondeswebsocketdisconnectconnectionid","title":"<code>Ondes.Websocket.disconnect(connectionId)</code>","text":"<p>Ferme une connexion WebSocket.</p> <pre><code>await Ondes.Websocket.disconnect(conn.id);\nconsole.log('D\u00e9connect\u00e9');\n</code></pre>"},{"location":"sdk/websocket/#ondeswebsocketdisconnectall","title":"<code>Ondes.Websocket.disconnectAll()</code>","text":"<p>Ferme toutes les connexions WebSocket actives.</p> <pre><code>const result = await Ondes.Websocket.disconnectAll();\nconsole.log(`${result.disconnected} connexion(s) ferm\u00e9e(s)`);\n</code></pre>"},{"location":"sdk/websocket/#lister-les-connexions","title":"\ud83d\udccb Lister les connexions","text":""},{"location":"sdk/websocket/#ondeswebsocketlist","title":"<code>Ondes.Websocket.list()</code>","text":"<p>Liste toutes les connexions WebSocket actives.</p> <p>Retour : <code>Promise&lt;Array&lt;Connection&gt;&gt;</code></p> <pre><code>const connections = await Ondes.Websocket.list();\nconnections.forEach(conn =&gt; {\n    console.log(`${conn.id}: ${conn.url} (${conn.status})`);\n});\n</code></pre>"},{"location":"sdk/websocket/#exemple-complet-controle-dun-robot","title":"\ud83d\udca1 Exemple complet : Contr\u00f4le d'un robot","text":"<pre><code>document.addEventListener('OndesReady', async () =&gt; {\n    let robotConnection = null;\n\n    // === CONNEXION ===\n    async function connectToRobot(ip) {\n        try {\n            robotConnection = await Ondes.Websocket.connect(`ws://${ip}:8080`, {\n                reconnect: true,\n                timeout: 5000\n            });\n\n            // \u00c9couter les messages du robot\n            Ondes.Websocket.onMessage(robotConnection.id, handleRobotMessage);\n\n            // \u00c9couter les changements d'\u00e9tat\n            Ondes.Websocket.onStatusChange(robotConnection.id, handleStatusChange);\n\n            Ondes.UI.showToast({ message: 'Robot connect\u00e9!', type: 'success' });\n\n        } catch (error) {\n            Ondes.UI.showToast({ message: '\u00c9chec de connexion', type: 'error' });\n            console.error(error);\n        }\n    }\n\n    // === MESSAGES ENTRANTS ===\n    function handleRobotMessage(message) {\n        console.log('Robot dit:', message);\n\n        // Parser le message du robot (format: &lt;code/data&gt;)\n        if (message.startsWith('&lt;') &amp;&amp; message.endsWith('&gt;')) {\n            const content = message.slice(1, -1);\n\n            // Exemple: Niveau de batterie\n            if (content.startsWith('40s')) {\n                const battery = parseInt(content.slice(3));\n                updateBatteryUI(battery);\n            }\n\n            // Exemple: Capteurs\n            if (content.startsWith('20f')) {\n                const sensors = parseSensors(content);\n                updateSensorsUI(sensors);\n            }\n        }\n    }\n\n    // === \u00c9TAT CONNEXION ===\n    function handleStatusChange(status, error) {\n        const statusElement = document.getElementById('connection-status');\n        statusElement.textContent = status;\n        statusElement.className = `status-${status}`;\n\n        if (status === 'error') {\n            console.error('Erreur WebSocket:', error);\n        }\n    }\n\n    // === ENVOI DE COMMANDES ===\n    async function sendCommand(command) {\n        if (!robotConnection) {\n            Ondes.UI.showToast({ message: 'Non connect\u00e9', type: 'warning' });\n            return;\n        }\n\n        try {\n            await Ondes.Websocket.send(robotConnection.id, command);\n            console.log('Commande envoy\u00e9e:', command);\n        } catch (error) {\n            console.error('Erreur envoi:', error);\n        }\n    }\n\n    // === CONTR\u00d4LES ===\n    document.getElementById('btn-forward').onclick = () =&gt; sendCommand('&lt;100s50&gt;');\n    document.getElementById('btn-backward').onclick = () =&gt; sendCommand('&lt;100s-50&gt;');\n    document.getElementById('btn-left').onclick = () =&gt; sendCommand('&lt;101s-30&gt;');\n    document.getElementById('btn-right').onclick = () =&gt; sendCommand('&lt;101s30&gt;');\n    document.getElementById('btn-stop').onclick = () =&gt; sendCommand('&lt;100s0&gt;');\n\n    // === D\u00c9MARRAGE ===\n    const robotIP = await Ondes.Storage.get('robot_ip') || '192.168.1.42';\n    await connectToRobot(robotIP);\n});\n</code></pre>"},{"location":"sdk/websocket/#gestion-des-erreurs","title":"\u26a0\ufe0f Gestion des erreurs","text":"<pre><code>try {\n    const conn = await Ondes.Websocket.connect('ws://invalid-host:8080', {\n        timeout: 3000\n    });\n} catch (error) {\n    console.error('Connexion \u00e9chou\u00e9e:', error.message);\n\n    // Codes d'erreur possibles\n    if (error.message.includes('timeout')) {\n        Ondes.UI.showToast({ message: 'Timeout de connexion', type: 'error' });\n    } else if (error.message.includes('refused')) {\n        Ondes.UI.showToast({ message: 'Connexion refus\u00e9e', type: 'error' });\n    }\n}\n</code></pre>"},{"location":"sdk/websocket/#bonnes-pratiques","title":"\ud83d\udd04 Bonnes pratiques","text":"<ol> <li>Toujours utiliser <code>try/catch</code> pour les op\u00e9rations de connexion</li> <li>Activer <code>reconnect: true</code> pour les connexions critiques</li> <li>Nettoyer les callbacks avec la fonction de d\u00e9sabonnement</li> <li>Fermer les connexions quand elles ne sont plus n\u00e9cessaires</li> <li>G\u00e9rer les \u00e9tats de connexion dans l'UI</li> </ol> <pre><code>// Nettoyage \u00e0 la fermeture de l'app\nwindow.addEventListener('beforeunload', async () =&gt; {\n    await Ondes.Websocket.disconnectAll();\n});\n</code></pre>"},{"location":"sdk/websocket/#version-flutter-sdk-dart","title":"\ud83d\udcf1 Version Flutter (SDK Dart)","text":"<p>Pour utiliser WebSocket avec le SDK Flutter, voir la documentation Flutter.</p> <pre><code>// Exemple Flutter\nfinal conn = await Ondes.websocket.connect(\n  'ws://192.168.1.42:8080',\n  options: WebsocketConnectOptions(reconnect: true),\n);\n\nOndes.websocket.onMessage(conn.id).listen((message) {\n  print('Message: $message');\n});\n\nawait Ondes.websocket.send(conn.id, '&lt;100s50&gt;');\n</code></pre>"}]}